<!-- Generator: GNU source-highlight 2.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>01: <b><font color="#007D00">// --------------------------------------------------------------------------</font></b>
02: <b><font color="#007D00">// Licensed Materials - Property of IBM</font></b>
03: <b><font color="#007D00">//</font></b>
04: <b><font color="#007D00">// 5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55</font></b>
05: <b><font color="#007D00">// Copyright IBM Corporation 1998, 2013. All Rights Reserved.</font></b>
06: <b><font color="#007D00">//</font></b>
07: <b><font color="#007D00">// Note to U.S. Government Users Restricted Rights:</font></b>
08: <b><font color="#007D00">// Use, duplication or disclosure restricted by GSA ADP Schedule</font></b>
09: <b><font color="#007D00">// Contract with IBM Corp.</font></b>
10: <b><font color="#007D00">// --------------------------------------------------------------------------</font></b>
11: 
12: <b><font color="#007D00">/*********************************************</font></b>
13: <b><font color="#007D00">Problem Description</font></b>
14: <b><font color="#007D00">-------------------</font></b>
15: 
16: <b><font color="#007D00">This is a problem of building five houses in different locations; the</font></b>
17: <b><font color="#007D00">masonry, roofing, painting, etc. must be scheduled. Some tasks must</font></b>
18: <b><font color="#007D00">necessarily take place before others and these requirements are</font></b>
19: <b><font color="#007D00">expressed through precedence constraints.</font></b>
20: 
21: <b><font color="#007D00">A pool of two workers is available for building the houses. For a</font></b>
22: <b><font color="#007D00">given house, some tasks (namely: plumbing, ceiling and painting)</font></b>
23: <b><font color="#007D00">require the house to be clean whereas other tasks (namely: masonry,</font></b>
24: <b><font color="#007D00">carpentry, roofing and windows) put the house in a dirty state. A</font></b>
25: <b><font color="#007D00">transition time of 1 is needed to clean the house so to change from</font></b>
26: <b><font color="#007D00">state 'dirty' to state 'clean'.</font></b>
27: 
28: <b><font color="#007D00">The objective is to minimize the makespan.</font></b>
29: <b><font color="#007D00">*********************************************/</font></b>
30: 
31: <b><font color="#0000FF">using</font></b> <b><font color="#0000FF">CP</font></b>;
32: 
33: <b><font color="#0000FF">int</font></b> NbHouses  = ...; 
34: <b><font color="#0000FF">int</font></b> NbWorkers = ...;
35: <b><font color="#0000FF">range</font></b> Houses = 1..NbHouses;
36: 
37: {<b><font color="#0000FF">string</font></b>} AllStates = ...;
38: {<b><font color="#0000FF">string</font></b>} TaskNames = ...;
39: 
40: <b><font color="#0000FF">int</font></b> Duration[t <b><font color="#0000FF">in</font></b> TaskNames] = ...;
41: 
42: <b><font color="#0000FF">int</font></b> Index[s <b><font color="#0000FF">in</font></b> AllStates] = <b><font color="#7D007D">ord</font></b>(AllStates, s);
43: 
44: <b><font color="#0000FF">tuple</font></b> Precedence {
45:    <b><font color="#0000FF">string</font></b> pre;
46:    <b><font color="#0000FF">string</font></b> post;
47: };
48: 
49: {Precedence} Precedences = ...;
50: 
51: <b><font color="#0000FF">tuple</font></b> StateRequirement {
52:   <b><font color="#0000FF">string</font></b> task;
53:   <b><font color="#0000FF">string</font></b> state;
54: };
55: {StateRequirement} States = ...;
56: 
57: 
58: <b><font color="#007D00">//Create the interval variables</font></b>
59: 
60: 
61: <b><font color="#007D00">//Declare the worker usage functions</font></b>
62: 
63: 
64: <b><font color="#007D00">//Create the transition times</font></b>
65: 
66: 
67: <b><font color="#007D00">//Declare the state function</font></b>
68: 
69: 
70: <b><font color="#0000FF">execute</font></b> {
71:                 cp.param.FailLimit = 10000;
72: }
73: 
74: 
75: //Add the objective
76: 
77: 
78: //Add the constraints
79: 
</tt></pre>

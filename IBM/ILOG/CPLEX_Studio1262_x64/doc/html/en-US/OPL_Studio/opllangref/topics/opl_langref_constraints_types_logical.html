<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="Logical constraints for CPLEX" />
<meta name="abstract" content="Describes the use of logical constraints in OPL." />
<meta name="Description" content="Describes the use of logical constraints in OPL." />
<meta name="DC.subject" content="expressions, in logical constraints, logical expressions, logical constraints, definition and extraction, constraints, logical (CPLEX)" />
<meta name="keywords" content="expressions, in logical constraints, logical expressions, logical constraints, definition and extraction, constraints, logical (CPLEX)" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_constraints_types.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangref.uss_langref_constraints.1071258" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_constraints_types.html" />
<title>Logical constraints for CPLEX</title>
</head>
<body role="main" id="usropllangref.uss_langref_constraints.1071258">
<h1 class="title topictitle1">Logical constraints for CPLEX</h1>
<div class="body conbody"><div class="abstract"><span class="shortdesc">Describes the use of logical constraints in OPL.</span>
</div>
<p class="p">Logical constraints are one particular kind of discrete or numerical
constraints. OPL and CPLEX can translate logical constraints automatically
into their transformed equivalent that the discrete (MIP) or continuous
(LP) optimizers of IBM ILOG CPLEX can process efficiently. This section
describes all the available logical constraints, as well as the logical
expressions that can be used in logical constraints. Logical constraints
are available in constraint programming models without linearization.</p>
<p class="p">For an example of how OPL uses logical constraints, see <a class="xref" href="../../opllanguser/topics/opl_languser_app_areas_cplex.html" title="Demonstrates how to use logical constraints in an application.">Tutorial: Using CPLEX logical constraints</a> in
the <em class="ph i">Language User’s Manual</em>.</p>
<p class="p">In this section, you will learn:</p>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071272">What are logical constraints?</a></p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1073083">What can be extracted from a model with logical constraints?</a></p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071509">Which nonlinear expressions can be extracted?</a></p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071320">Logical constraints for counting</a></p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071333">How are logical constraints extracted?</a></p>
 </li>
</ul>
<div class="section" id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071272"><h2 class="title sectiontitle">What
are logical constraints?</h2><p class="p">For IBM ILOG CPLEX, a logical constraint
combines linear constraints by means of logical operators, such as
logical-and, logical-or, implication, negation (<samp class="ph codeph">not</samp>),
conditional statements (<samp class="ph codeph">if ... then ...</samp>) to express
complex relations between linear constraints. IBM ILOG CPLEX can also
handle certain logical expressions appearing within a linear constraint.
One such logical expression is the minimum of a set of variables.
Another such logical expression is the absolute value of a variable.
There’s more about logical expressions in <a class="xref" href="opl_langref_constraints_types_logical.html#usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071509">Which nonlinear expressions can be extracted?</a>.</p>
</div>
<div class="section" id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1073083"><h2 class="title sectiontitle">What
can be extracted from a model with logical constraints?</h2><p class="p">The table below lists the logical
constraints that CPLEX can extract.</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="A two column table explaining the meaning of the symbols used for logical constraints in MP models." id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1073090" class="table ShadedHead" rules="all" frame="border" border="1"><span class="desc tabledesc"></span><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry" align="left" valign="top" id="d709302e105">Symbol</th>
<th class="entry" align="left" valign="top" id="d709302e107">Meaning</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">&amp;&amp;</td>
<td class="entry" valign="top" headers="d709302e107 ">Logical AND</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">| |</td>
<td class="entry" valign="top" headers="d709302e107 ">Logical OR</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">!</td>
<td class="entry" valign="top" headers="d709302e107 ">Logical NOT</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">=&gt;</td>
<td class="entry" valign="top" headers="d709302e107 ">Imply</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">!= </td>
<td class="entry" valign="top" headers="d709302e107 ">Different from</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d709302e105 ">==</td>
<td class="entry" valign="top" headers="d709302e107 ">Equivalence</td>
</tr>
</tbody>
</table>
</div>
<p class="p">All those constructs accept as their arguments other linear
constraints or logical constraints, so you can combine linear constraints
with logical constraints in complicated expressions in your application.</p>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p">With
the C++ API you should use the symbol &lt;= to express implication.</p>
 </div>
</div>
<div class="section" id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071509"><h2 class="title sectiontitle">Which
nonlinear expressions can be extracted?</h2><p class="p">Some expressions
are easily recognized as nonlinear, for example, a function such as </p>
<pre class="pre codeblock"><code>x^2 + y^2 = 1</code></pre>
<p class="p">However, other nonlinearities are less obvious, such
as absolute value as a function. In a very real sense, MIP is a class
of nonlinearly constrained problems because the integrality restriction
destroys the property of convexity which any linear constraints otherwise
might possess. Because of that characteristic, certain (although not
all) nonlinearities are capable of being converted to a MIP formulation,
and thus can be solved by IBM ILOG CPLEX. The following nonlinear
expressions are accepted in an OPL model:</p>
<ul class="ul"><li class="li"><p class="p"><samp class="ph codeph">min</samp> and <samp class="ph codeph">minl</samp> : the minimum
of several numeric expressions</p>
 </li>
<li class="li"><p class="p"><samp class="ph codeph">max</samp> and <samp class="ph codeph">maxl</samp> : the maximum
of several numeric expressions</p>
 </li>
<li class="li"><p class="p"><samp class="ph codeph">abs</samp> : the absolute value of a numeric expression</p>
</li>
<li class="li"><p class="p"><samp class="ph codeph">piecewise</samp> : the piecewise linear combination
of a numeric expression</p>
 </li>
<li class="li"><p class="p">A linear constraint can appear as a term in a logical constraint.</p>
</li>
</ul>
<p class="p">In fact, ranges containing logical expressions can, in turn,
appear in logical constraints. It is important to note here that only
linear constraints can appear as arguments of logical constraints
extracted by IBM ILOG CPLEX. That is, quadratic constraints are not
handled in logical constraints. Similarly, quadratic terms can not
appear as arguments of logical expressions such as <samp class="ph codeph">min</samp>, <samp class="ph codeph">max</samp>, <samp class="ph codeph">abs</samp>,
and <samp class="ph codeph">piecewise</samp>.</p>
</div>
<div class="section" id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071320"><h2 class="title sectiontitle">Logical
constraints for counting</h2><p class="p">In
many cases it is even unnecessary to allocate binary variables explicitly
in order to gain the benefit of linear constraints within logical
expressions. For example, optimizing how many items appear in a solution
is often an issue in practical problems. Questions of counting (how
many?) can be represented formally as cardinality constraints. Suppose
that your application includes three variables, each representing
a quantity of one of three products, and assume further that a good
solution to the problem means that the quantity of at least two of
the three products must be greater than 20. Then you can represent
that idea in your application, like this:</p>
<pre class="pre codeblock"><code>(x[0] &gt;= 20) + (x[1] &gt;= 20) + (x[2] &gt;= 20) &gt;= 2;</code></pre>
</div>
<div class="section" id="usropllangref.uss_langref_constraints.1071258__usropllangref.uss_langref_constraints.1071333"><h2 class="title sectiontitle">How
are logical constraints extracted?</h2><p class="p">Logical constraints are
transformed automatically into equivalent linear formulations when
they are extracted by an IBM ILOG CPLEX algorithm. This transformation
involves automatic creation by IBM ILOG CPLEX of new variables and
constraints. For more details on this transformation, refer to the
IBM ILOG CPLEX documentation.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_constraints_types.html" title="Classifies constraints according to their operand type.">Types of constraints</a></div>
</div>
</div></body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="The all syntax" />
<meta name="abstract" content="Shows how to use the all syntax in the OPL language." />
<meta name="Description" content="Shows how to use the all syntax in the OPL language." />
<meta name="DC.subject" content="constants, dynamic collection, decision variables, all, OPL keyword" />
<meta name="keywords" content="constants, dynamic collection, decision variables, all, OPL keyword" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_decisiontypes_dynamic.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangref.uss_langref_decisiontypes.1052134" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_decisiontypes_dynamic.html" />
<title>The all syntax</title>
</head>
<body role="main" id="usropllangref.uss_langref_decisiontypes.1052134">
<h1 class="title topictitle1">The all syntax</h1>
<div class="body"><p class="shortdesc">Shows how to use the <samp class="ph codeph">all</samp> syntax
in the OPL language.</p>
<p class="p">Then, the <samp class="ph codeph">all</samp> syntax allows
you to dynamically collect some decision variables or constants into
an array. The syntax is similar to <samp class="ph codeph">sum</samp> and <samp class="ph codeph">forall</samp>,
it contains a series of possible generators (an index and a set or
a range in which this index is to be contained), some possible filters
(to filter out some of the enumerated combinations), and a body (here
of the form <samp class="ph codeph">x[i][j]...</samp>). The variables
or values in the resulting array follow the logical order of enumerating
the index combinations as defined by the generators.</p>
<p class="p">By default, this dynamic array is indexed from <samp class="ph codeph">0</samp> to <samp class="ph codeph">numberOfElements-1</samp>.
As some constraints make a particular usage of the index, it may be
interesting to define another indexing schema. For this, it is possible
to dynamically define the range of the resulting array of variables
by using the syntax <samp class="ph codeph">[minindex..maxindex]</samp>.
Finally, it is possible to use "*" as <samp class="ph codeph">maxIndex</samp> to
indicate that only the <samp class="ph codeph">minIndex</samp> is defined;
the <samp class="ph codeph">maxIndex</samp> will be set accordingly depending
on the number of elements.</p>
<p class="p">Here is a complete of usage of the syntax:</p>
<pre class="pre codeblock"><code>using CP;

int n = 5;

range R = 1..n;
dvar int x[R] in R;

subject to {
  allDifferent(all(i in R:i%2==1) x[i]);
}</code></pre>
<p class="p">This is a way of defining an array of variables or values, and in all the constraints and
expressions that take arrays. You can use either this syntax or pass directly a named array. When
you pass a named array and indexes make sense in the constraint, its indexer will be used to index
the elements if it has one dimension only. If it has two dimensions, the indexer cannot be used.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_decisiontypes_dynamic.html" title="Discusses the “all” syntax, explicit arrays, appending arrays, and dynamic initialization of decision variable arrays.">Dynamic collection of elements into arrays</a></div>
</div>
</div></body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Assertions" />
<meta name="abstract" content="Explains the use of assertions with regard to data consistency." />
<meta name="Description" content="Explains the use of assertions with regard to data consistency." />
<meta name="DC.subject" content="keywords, assert, assert, OPL keyword, data, assertions for consistency, assertions" />
<meta name="keywords" content="keywords, assert, assert, OPL keyword, data, assertions for consistency, assertions" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_data_consistency.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangref.uss_langref_datasources.1060909" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_data_consistency.html" />
<title>Assertions</title>
</head>
<body role="main" id="usropllangref.uss_langref_datasources.1060909">
<h1 class="title topictitle1">Assertions</h1>
<div class="body"><p class="shortdesc">Explains the use of assertions with regard to data consistency.</p>
<p class="p">OPL provides assertions to verify the consistency of
the model data. This functionality enables you to avoid wrong results
due to incorrect input data. In their simplest form, assertions are
simply Boolean expressions that must be true; otherwise, they raise
an execution error. For instance, it is common in some transportation
problems to require that the demand matches the supply. The declaration </p>
<pre class="pre codeblock"><code>int demand[Customers] = ...; 
int supply[Suppliers] = ...; 

assert sum(s in Suppliers) supply[s] == sum(c in Customers) demand[c];</code></pre>
<p class="p">makes sure that the total supply by the suppliers meets
the total demand from the customers. This assertion can be generalized
to the case of multiple products, as in </p>
<pre class="pre codeblock"><code>int demand[Customers] [Products] = ...; 
int supply[Suppliers] [Products] = ...; 
assert 
   forall(p in Products) 
       sum(s in Suppliers) supply[s][p] == sum(c in Customers) demand[c][p];</code></pre>
<p class="p">This assertion verifies that the total supply meets the
total demand for each product. The use of assertions is highly recommended,
since they make it possible to detect errors in the data input early,
avoiding tedious inspection of the model data and results.</p>
<p class="p">Assertions can be labeled. See <a class="xref" href="opl_langref_constraints_labels_assert.html" title="Shows how to label assertions in OPL.">Labeled assert statements</a>.</p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">In OPL, elements are initialized when they are first
used. This is called 'lazy initialization' (see <a class="xref" href="opl_langref_data_init.html" title="Defines internal versus external initialization, describes how to initialize arrays, tuples, and sets, and discusses memory allocation aspects of data initialization.">Data initialization</a>). </p>

<p class="p">However, the execution of an assert statement triggers
an evaluation of the elements involved in the assertion. So, if you
use an OPL element for the first time in a skipped assert expression,
the lazy initialization will be triggered later. Skipping or removing
assert statements may impact the order in which OPL elements are initialized
and thus change the behavior of a program.</p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_data_consistency.html" title="Defines the purpose of data consistency and describes data membership and assertions as ways to ensure consistency.">Data consistency</a></div>
</div>
</div></body>
</html>
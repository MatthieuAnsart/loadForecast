<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="Set expressions" />
<meta name="abstract" content="Describes the use of set expressions in OPL." />
<meta name="Description" content="Describes the use of set expressions in OPL." />
<meta name="DC.subject" content="expressions, set, set expressions" />
<meta name="keywords" content="expressions, set, set expressions" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_expressions.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangref.uss_langref_expressRelations.1049578" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_expressions.html" />
<title>Set expressions</title>
</head>
<body role="main" id="usropllangref.uss_langref_expressRelations.1049578">
<h1 class="title topictitle1">Set expressions</h1>
<div class="body conbody"><div class="abstract"><div class="shortdesc">Describes the use of set expressions in OPL.</div>
 <p class="p"> </p>
 </div>
<p class="p">Set data can be initialized by set expressions, as mentioned in <a class="xref" href="opl_langref_datatypes.html" title="Describes basic data types and data structures available for modeling data in OPL.">Data types</a>. This section
describes how these expressions are constructed and what functions
are defined over sets.</p>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="opl_langref_expressions_set.html#usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1045483">Construction of set expressions</a></p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_langref_expressions_set.html#usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1044087">Functions for sets</a></p>
 </li>
</ul>
<div class="section" id="usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1045483"><h2 class="title sectiontitle">Construction
of set expressions</h2><p class="p">Set expressions
are constructed from previously defined sets and the set operations <samp class="ph codeph">union</samp>, <samp class="ph codeph">inter</samp>, <samp class="ph codeph">diff</samp>,
and <samp class="ph codeph">symdiff</samp>. For instance:</p>
<pre class="pre codeblock"><code>{int} s1 = {1,2,3}; 
{int} s2 = {1,4,5}; 
{int} i = s1 inter s2; 
{int} u = s1 union s2; 
{int} d = s1 diff s2; 
{int} sd = s1 symdiff s2; </code></pre>
<p class="p">initializes <samp class="ph codeph">i</samp> to <samp class="ph codeph">{1}</samp>, <samp class="ph codeph">u</samp> to <samp class="ph codeph">{1,2,3,4,5}</samp>, <samp class="ph codeph">d</samp> to <samp class="ph codeph">{2,3}</samp>,
and <samp class="ph codeph">sd</samp> to <samp class="ph codeph">{2,3,4,5}</samp>. In addition,
set expressions can be constructed from ranges. For instance, the
excerpt </p>
<pre class="pre codeblock"><code>{int} s = asSet(1..10);</code></pre>
<p class="p">initializes <samp class="ph codeph">s</samp> to the finite set <samp class="ph codeph">{1,2,...,10}</samp> </p>
<div class="note important"><span class="importanttitle">Important:</span>  <p class="p">The range <samp class="ph codeph">1..10</samp> takes constant
space, while the set <samp class="ph codeph">s</samp> takes space proportional to
the number of elements in the range. </p>
 </div>
</div>
<div class="section" id="usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1044087"><h2 class="title sectiontitle">Functions
for sets</h2><p class="p"><a class="xref" href="opl_langref_expressions_set.html#usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1045635" title="A two-column table that lists and describes the functions available over sets.">Table 1</a> shows
the functions available over sets. These methods apply to all sets,
including sets of tuples and other complex sets. In this section,
we assume that:</p>
<ul class="ul"><li class="li"><p class="p"><samp class="ph codeph">S</samp> is the set <samp class="ph codeph">3, 6, 7, 9</samp> </p>
 </li>
<li class="li"><p class="p"><samp class="ph codeph">item</samp> is an element of <samp class="ph codeph">S</samp> </p>
</li>
<li class="li"><p class="p"><samp class="ph codeph">n</samp> is an integer number</p>
</li>
</ul>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="A two-column table that lists and describes the functions available over sets." id="usropllangref.uss_langref_expressRelations.1049578__usropllangref.uss_langref_expressRelations.1045635" class="table ShadedHead" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Functions over sets </span></caption><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry" align="left" valign="top" width="50%" id="d720428e251">Function</th>
<th class="entry" align="left" valign="top" width="50%" id="d720428e253">Description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">card</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><samp class="ph codeph">card(S)</samp> returns the size of <samp class="ph codeph">S</samp>,
that is, the number of items.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">ord</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p"><samp class="ph codeph">ord(S,item)</samp> returns the position of <samp class="ph codeph">item</samp> in <samp class="ph codeph">S</samp>.
Positions start at <samp class="ph codeph">0</samp> and <samp class="ph codeph">ord(S,item)</samp> produces
an execution error if <samp class="ph codeph">item</samp> is not in <samp class="ph codeph">S</samp>. </p>
<p class="p">Example: <samp class="ph codeph">ord(S,6)</samp> evaluates
to <samp class="ph codeph">1</samp> and <samp class="ph codeph">ord(S,9)</samp> to <samp class="ph codeph">3</samp>.</p>
<p class="p">The
order of items in an explicit set is by order of appearance in the
initialization and is implementation-dependent when the sets are the
results of a set operation.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">first</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><samp class="ph codeph">first(S)</samp> returns the first item in <samp class="ph codeph">S</samp>, <samp class="ph codeph">3</samp> in
this example.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">item</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p"><samp class="ph codeph">item(S,n)</samp> returns the n-th item in set
S. Counting starts from 0. This is equivalent to <samp class="ph codeph">next(first(S),n)</samp> </p>
<p class="p">Example:
item(S,1) = 6</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">last</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><samp class="ph codeph">last(S)</samp> returns the last item in <samp class="ph codeph">S</samp>, <samp class="ph codeph">9</samp> in
this example.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">next</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p"><samp class="ph codeph">next(S,item)</samp> returns the item in S that
comes after item and produces an execution error if <samp class="ph codeph">item</samp> is
the last item. </p>
<p class="p">Example: <samp class="ph codeph">next(S,3) = 6</samp> </p>
<p class="p"><samp class="ph codeph">next(S,item,n)</samp> returns
the n-th next item. <samp class="ph codeph">next(S,item)</samp> is equivalent to <samp class="ph codeph">next(S,item,1)</samp>. </p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">nextc</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p">A circular version of <samp class="ph codeph">next</samp>. <samp class="ph codeph">nextC(S,item)</samp> returns
the first item in <samp class="ph codeph">S</samp> if <samp class="ph codeph">item</samp> is the
last item. </p>
<p class="p">Example: <samp class="ph codeph">nextc(S,9) = 3</samp> </p>
<p class="p"><samp class="ph codeph">nextc(S,item,n)</samp> returns
the n-th circular next item. <samp class="ph codeph">nextc(S,item)</samp> is equivalent
to <samp class="ph codeph">nextc(S,item,1)</samp>.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">prev</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p"><samp class="ph codeph">prev(S,item)</samp> returns the item in <samp class="ph codeph">S</samp> that
comes before <samp class="ph codeph">item</samp> and produces an execution error
if <samp class="ph codeph">item</samp> is the first item.</p>
<p class="p">Example: <samp class="ph codeph">prev(S,6)
= 3</samp> </p>
<p class="p"><samp class="ph codeph">prev(S,item,n)</samp> returns the n-th
previous item. <samp class="ph codeph">prev(S,item)</samp> is equivalent to <samp class="ph codeph">prev(S,item,1)</samp>.</p>
</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="50%" headers="d720428e251 "><samp class="ph codeph">prevc</samp> </td>
<td class="entry" valign="top" width="50%" headers="d720428e253 "><p class="p">A circular version of <samp class="ph codeph">prev</samp>. <samp class="ph codeph">prevc(S,item)</samp> returns
the last item in <samp class="ph codeph">S</samp> if <samp class="ph codeph">item</samp> is the
first item.</p>
<p class="p">Example: <samp class="ph codeph">prev(S,3) = 9</samp> </p>
<p class="p"><samp class="ph codeph">prevc(S,item,n</samp>)
returns the n-th circular previous item. <samp class="ph codeph">prevc(S,item)</samp> is
equivalent to <samp class="ph codeph">prevc(S,item,1)</samp>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_expressions.html" title="Describes data and decision variable identifiers, integer and float expressions, aggregate operators, piecewise-linear functions (continuous and discontinuous), set expressions, and Boolean expressions.">Expressions</a></div>
</div>
</div></body>
</html>
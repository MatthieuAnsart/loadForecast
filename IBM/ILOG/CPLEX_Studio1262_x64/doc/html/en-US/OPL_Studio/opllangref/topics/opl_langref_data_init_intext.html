<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Internal and external initialization" />
<meta name="abstract" content="Defines these two kinds of data initialization." />
<meta name="Description" content="Defines these two kinds of data initialization." />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_data_init.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangref.uss_langref_datasources.1063260" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_data_init.html" />
<title>Internal and external initialization</title>
</head>
<body role="main" id="usropllangref.uss_langref_datasources.1063260">
<h1 class="title topictitle1">Internal and external initialization</h1>
<div class="body"><p class="shortdesc">Defines these two kinds of data initialization.</p>
<p class="p">In OPL, you can initialize data internally or externally.
Your choice affects memory allocation. See <a class="xref" href="opl_langref_data_init_memory.html" title="Describes how memory is allocated to data initialization.">Initialization and memory allocation</a> for details.</p>
<div class="section" id="usropllangref.uss_langref_datasources.1063260__usropllangref.uss_langref_datasources.1062039"><h2 class="title sectiontitle">Internally</h2><p class="p">This initialization mode consists in initializing the
data in the model file at the same time as it is declared. Inline
initializations can contain expressions to initialize data items,
such as </p>
<pre class="pre codeblock"><code>int a[1..5] = [b+1, b+2, b+3, b+4, b+5];</code></pre>
<p class="p"> </p>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">If you choose to initialize data within a model file,
you will get an error message if you try to access it later by means
of a scripting statement such as: </p>

<p class="p"><samp class="ph codeph">myData.myArray_inMod[1] = 2;</samp> </p>
</div>
</div>
<div class="section" id="usropllangref.uss_langref_datasources.1063260__usropllangref.uss_langref_datasources.1055951"><h2 class="title sectiontitle">Externally</h2><p class="p">This initialization mode consists in specifying initialization
subsequently as an OPL statement in a separate <span class="ph filepath">.dat</span> file
(see <a class="xref" href="../../opllang_quickref/topics/opl_syntax.html" title="Grammar of the modeling language.">OPL Syntax</a> in the <em class="ph i">Language
Quick Reference</em>). This includes reading from a database,
as explained in <a class="xref" href="opl_langref_db_init.html" title="Describes how to connect to one or several relational databases, how to read from such databases using traditional SQL queries, and to write the results back to the connected database.">Database initialization</a>, or from
a spreadsheet as explained in <a class="xref" href="opl_langref_spreadsheet.html" title="Describes how to connect an MS Excel spreadsheet, read from it, and write the results to the connected spreadsheet.">Spreadsheet Input/Output</a>.</p>
<p class="p">You declare external data using the ellipsis syntax.
However, data initialization instructions cannot contain expressions,
since they are intended to specify data. Data initialization instructions
make it possible to specify sets of tuples in very compact ways. Consider
these types in a <span class="ph filepath">.mod</span> file:</p>
<pre class="pre codeblock"><code>{string} Product ={"flour", "wheat", "sugar"};
{string} City ={"Providence", "Boston", "Mansfield"};
tuple Ship {
string orig;
string dest;
string p;
}
{Ship} shipData = ...;</code></pre>
<p class="p">and assume that the set of shipments is initialized externally
in a separate <span class="ph filepath">.dat</span> file like this: </p>
<pre class="pre codeblock"><code>shipData =</code></pre>
<pre class="pre codeblock"><code>{
&lt;"Providence", "Boston", "wheat"&gt;
&lt;"Providence", "Boston", "flour"&gt;
&lt;"Providence", "Boston", "sugar"&gt;
&lt;"Providence", "Boston", "wheat"&gt;
&lt;"Providence", "Mansfield", "wheat"&gt;
&lt;"Providence", "Mansfield", "flour"&gt;
&lt;"Boston", "Providence", "sugar"&gt;
&lt;"Boston", "Providence", "flour"&gt;
};</code></pre>
<div class="note note"><span class="notetitle">Note:</span> <p class="p">In <span class="ph filepath">.dat</span> files, the
separating comma is optional. For strings without any special characters,
even the enclosing quotes are optional. </p>
</div>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_data_init.html" title="Defines internal versus external initialization, describes how to initialize arrays, tuples, and sets, and discusses memory allocation aspects of data initialization.">Data initialization</a></div>
</div>
</div></body>
</html>
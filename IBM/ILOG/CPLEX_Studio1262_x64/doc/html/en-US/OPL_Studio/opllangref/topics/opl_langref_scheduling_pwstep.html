<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Piecewise linear and stepwise functions" />
<meta name="abstract" content="Describes piecewise linear and stepwise functions as related to scheduling." />
<meta name="Description" content="Describes piecewise linear and stepwise functions as related to scheduling." />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllangref/topics/opl_langref_scheduling.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="GhD9qDZD" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllangref/topics/opl_langref_scheduling.html" />
<title>Piecewise linear and stepwise functions</title>
</head>
<body role="main" id="GhD9qDZD">
<h1 class="title topictitle1">Piecewise linear and stepwise functions</h1>
<div class="body"><p class="shortdesc">Describes piecewise linear and stepwise functions
as related to scheduling.</p>
<p class="p">In CP Optimizer, piecewise linear functions are typically
used to model a known function of time, for instance the cost incurred
for completing an activity after a known date <em class="ph i">t</em>. Stepwise
functions are typically used to model the efficiency of a resource
over time.</p>
<p class="p">A <strong class="ph b">piecewise</strong> <strong class="ph b">linear</strong> <strong class="ph b">function</strong> <em class="ph i">F(t)</em> is defined by a tuple <em class="ph i">F = piecewise(S, T</em><em class="ph i">, t</em><sub class="ph sub">0</sub><em class="ph i">, v</em><sub class="ph sub">0</sub><em class="ph i">)</em> where:</p>
<div class="image"><img class="image" src="../images/pwl_func.jpg" alt="pwl_func" /></div><p class="p">For a complete description of the OPL syntax of a piecewise
linear function, see <a class="xref" href="../../opllang_quickref/topics/tlr_opl_piecewise.html" title="OPL keyword to express piecewise linear functions.">piecewise</a> and <a class="xref" href="../../opllang_quickref/topics/tlr_opl_pwlFunc.html" title="OPL keyword to create a piecewise linear function">pwlFunction</a> in the <em class="ph i">OPL
Language Quick Reference</em>.</p>
<p class="p">A <strong class="ph b">stepwise</strong> <strong class="ph b">function</strong> is
a special case of the piecewise linear function, where all slopes
are equal to 0 and the domain and image of <em class="ph i">F</em> are integer.
A stepwise function <em class="ph i">F(t)</em> is defined by a tuple <em class="ph i">F = stepwise(V, T)</em> where:</p>
<div class="image"><img class="image" src="../images/sw_func.jpg" alt="sw_func" /></div><p class="p">For a complete description of the OPL syntax of a stepwise
linear function, see <a class="xref" href="../../opllang_quickref/topics/tlr_oplsch_stepwise.html" title="OPL keyword for stepwise linear functions">stepwise</a> and <a class="xref" href="../../opllang_quickref/topics/tlr_opl_stepFunc.html" title="OPL keyword to create a stepwise linear function">stepFunction</a> in the <em class="ph i">OPL
Language Quick Reference</em>.</p>
<div class="section" id="GhD9qDZD__GfSdgqVq"><h2 class="title sectiontitle">Examples</h2><p class="p">The following piecewise and stepwise function are depicted
in the diagram, below.</p>
<ul class="ul"><li class="li"><p class="p"> A V-shape function with value 0 at <em class="ph i">x</em> =
10, slope −1 before <em class="ph i">x</em> = 10 and slope <em class="ph i">s</em> afterwards:</p>
 <p class="p"><a class="xref" href="../../opllang_quickref/topics/tlr_opl_pwlFunc.html" title="OPL keyword to create a piecewise linear function">pwlFunction</a><samp class="ph codeph"> F1
= piecewise{ -1-&gt;10; s } (10, 0);</samp></p>
 </li>
<li class="li"><p class="p">An array of V-shaped functions indexed by <em class="ph i">i</em> in <em class="ph i">[1..n]</em> with value 0 at <em class="ph i">T[i]</em>,
slope <em class="ph i">−U[i]</em> before <em class="ph i">T[i]</em> and slope <em class="ph i">V [i]</em> afterwards (<em class="ph i">T</em>, <em class="ph i">U</em> and <em class="ph i">V</em> are data integer arrays):</p>
<p class="p"><a class="xref" href="../../opllang_quickref/topics/tlr_opl_pwlFunc.html" title="OPL keyword to create a piecewise linear function">pwlFunction</a><samp class="ph codeph"> F[i
in 1..n] = piecewise{ -U[i]-&gt;T[i]; V[i] } (T[i],0);</samp></p>
 </li>
<li class="li"><p class="p">A stepwise function with value 0 before 0,
100 on [0, 20), value 60 on [20, 30), and value 100 later on:</p>
 <p class="p"><a class="xref" href="../../opllang_quickref/topics/tlr_opl_stepFunc.html" title="OPL keyword to create a stepwise linear function">stepFunction</a><samp class="ph codeph"> F2
= stepwise{ 0-&gt;0; 100-&gt;20; 60-&gt;30; 100 };</samp></p>
 </li>
<li class="li"><p class="p">A stepwise function with value 0 everywhere
except on intervals <em class="ph i">[7i, 7i+5)</em> for <em class="ph i">i</em> in
[0, 51] where the value is 100:</p>
<p class="p"><a class="xref" href="../../opllang_quickref/topics/tlr_opl_stepFunc.html" title="OPL keyword to create a stepwise linear function">stepFunction</a><samp class="ph codeph"> F3
= stepwise(i in 0..51, p in 0..1) { 100*p -&gt; (7*i)+(5*p) ; 0 };</samp></p>
 </li>
</ul>
<div class="image"><img class="image" src="../images/functions.jpg" alt="functions" /></div></div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllangref/topics/opl_langref_scheduling.html" title="Describes how to model scheduling problems in OPL.">Scheduling</a></div>
</div>
</div></body>
</html>
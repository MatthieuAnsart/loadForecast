<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="task" />
<meta name="DC.Title" content="Creating an OPL model" />
<meta name="abstract" content="Explains how to create an OPL model that uses the OPL interfaces." />
<meta name="Description" content="Explains how to create an OPL model that uses the OPL interfaces." />
<meta name="DC.subject" content="Concert Technology, environment, classes, IloOplErrorHandler, IloOplErrorHandler class, models, error handling, IloOplModelSource, IloOplModelSource class, model source, model definition, IloOplSettings, IloOplSettings class, IloOplModelDefinition, IloOplModelDefinition class, IloCplex, IloCP class, IloCP, IloCplex class" />
<meta name="keywords" content="Concert Technology, environment, classes, IloOplErrorHandler, IloOplErrorHandler class, models, error handling, IloOplModelSource, IloOplModelSource class, model source, model definition, IloOplSettings, IloOplSettings class, IloOplModelDefinition, IloOplModelDefinition class, IloCplex, IloCP class, IloCP, IloCplex class" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/usroplinterfaces/topics/opl_interfaces_tutorial.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllib.uss_lib_tutorial.1002676" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/usroplinterfaces/topics/opl_interfaces_tutorial.html" />
<title>Creating an OPL model</title>
</head>
<body role="main" id="usropllib.uss_lib_tutorial.1002676">
<h1 class="title topictitle1">Creating an OPL model</h1>
<div class="body taskbody"><p class="shortdesc">Explains how to create an OPL model that uses
the OPL interfaces.</p>
<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">About this task</h2></div> <p class="p">To create an OPL model using the interfaces library, you
need:</p>
<ol class="ol"><li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1002704">To create the Concert environment</a>.</p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1010922">To create the error handler</a> in
the environment.</p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1012121">To identify the model source</a>.</p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1012177">To identify the model definition</a>.</p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1012256">To create the engine instance</a>.</p>
 </li>
<li class="li"><p class="p"><a class="xref" href="opl_interfaces_tut_oplmodel.html#usropllib.uss_lib_tutorial.1002796">To create the OPL model</a>.</p>
 </li>
</ol>
 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/usroplinterfaces/topics/opl_interfaces_tutorial.html" title="Shows how to write basic code to create a simple OPL model from a model definition file and a model data file. The model is solved using CPLEX through the Concert API. Each step is illustrated by a code sample in each language.">Tutorial</a></div>
</div>
</div><div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1002704"><h2 class="title topictitle2">To create the Concert environment</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">As for any IBM ILOG Concert Technology
model, you need an instance of the environment in which to create
your model objects.</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Write the following code.</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002704__usropllib.uss_lib_tutorial.1012082">C++</p>
<pre class="pre codeblock"><code>   IloEnv env;</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002704__usropllib.uss_lib_tutorial.1012099">Java</p>
<pre class="pre codeblock"><code>   IloOplFactory oplF = new IloOplFactory();</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002704__usropllib.uss_lib_tutorial.1012114">.NET (Visual Basic)</p>
<pre class="pre codeblock"><code>   Dim oplF As OplFactory = New OplFactory</code></pre>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1010922"><h2 class="title topictitle2">To create the error handler</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Create an error handler is necessary
in the environment to report errors and warnings during the translation
of the model text.</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1010922__example1227273577663">C++</p>
<pre class="pre codeblock"><code>      IloOplErrorHandler handler(env,cout);
</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1010922__example1227273590084">Java</p>
<pre class="pre codeblock"><code>      IloOplErrorHandler errHandler = oplF.createOplErrorHandler();</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1010922__example1227273603038">.NET
(Visual Basic)</p>
<pre class="pre codeblock"><code>      Dim errorHandler As OplErrorHandler = oplF.CreateOplErrorHandler()</code></pre>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1012121"><h2 class="title topictitle2">To identify the model source</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Pass the model source that provides the
text to interpret.</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012121__usropllib.uss_lib_tutorial.1012133">C++</p>
<pre class="pre codeblock"><code>      IloOplModelSource modelSource(env, DATADIR 'mulprod.mod');</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012121__usropllib.uss_lib_tutorial.1012148">Java</p>
<pre class="pre codeblock"><code>      IloOplModelSource modelSource = oplF.createOplModelSource(DATADIR + '/mulprod.mod');</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012121__usropllib.uss_lib_tutorial.1012188">.NET (Visual Basic)</p>
<pre class="pre codeblock"><code>      Dim modelSource As OplModelSource = oplF.CreateOplModelSource(DATADIR + '/mulprod.mod')</code></pre>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1012177"><h2 class="title topictitle2">To identify the model definition</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Use same model definition to instantiate
one or more models.</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012177__usropllib.uss_lib_tutorial.1012199">C++</p>
<pre class="pre codeblock"><code>      IloOplSettings settings(env,handler);
      IloOplModelDefinition def(modelSource,settings);
</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012177__usropllib.uss_lib_tutorial.1012214">Java</p>
<pre class="pre codeblock"><code>      IloOplModelDefinition def = oplF.createOplModelDefinition(modelSource,settings);</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012177__usropllib.uss_lib_tutorial.1012263">.NET (Visual Basic)</p>
<pre class="pre codeblock"><code>      Dim def As OplModelDefinition = oplF.CreateOplModelDefinition(modelSource, settings)</code></pre>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1012256"><h2 class="title topictitle2">To create the engine instance</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Create the instance of the algorithm
to use for this model.</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012256__usropllib.uss_lib_tutorial.1012293">C++</p>
<pre class="pre codeblock"><code>   IloCplex cplex(env);</code></pre>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p">If the model is to be solved by CP Optimizer engine, you
would instantiate an <span class="keyword apiname">IloCP</span> object using</p>
 <pre class="pre codeblock"><code>IloCP cp(env)</code></pre>
 </div>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012256__usropllib.uss_lib_tutorial.1010080">Java</p>
<pre class="pre codeblock"><code>   IloCplex cplex = oplF.createCplex();</code></pre>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p">If the model is to be solved by CP Optimizer
engine, you would instantiate an <span class="keyword apiname">IloCP</span> object
using</p>
 <pre class="pre codeblock"><code>IloCP cp = oplF.createCP()</code></pre>
 </div>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1012256__usropllib.uss_lib_tutorial.1012324">.NET (Visual Basic)</p>
<pre class="pre codeblock"><code>   Dim cplex As Cplex = oplF.CreateCplex()</code></pre>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p">If the model is to be solved by CP Optimizer
engine, you would instantiate an <span class="keyword apiname">IloCP</span> object
using</p>
 <pre class="pre codeblock"><code>Dim cp As CP = oplF.CreateCP()</code></pre>
 </div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usropllib.uss_lib_tutorial.1002796"><h2 class="title topictitle2">To create the OPL model</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">You can now create the OPL model. The
constructor takes a model definition instance and an instance of <samp class="ph codeph">IloCplex</samp> .</span> <p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002796__usropllib.uss_lib_tutorial.1012341">C++</p>
<pre class="pre codeblock"><code>      IloOplModel opl(def,cplex);</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002796__usropllib.uss_lib_tutorial.1012358">Java</p>
<pre class="pre codeblock"><code>      IloOplModel opl = oplF.createOplModel(def, cplex);</code></pre>
<p class="p exampletitle" id="usropllib.uss_lib_tutorial.1002796__usropllib.uss_lib_tutorial.1012373">.NET (Visual Basic)</p>
<pre class="pre codeblock"><code>      Dim opl As OplModel = oplF.CreateOplModel(def, cplex)</code></pre>
</div>
</div>
</div>
</body>
</html>
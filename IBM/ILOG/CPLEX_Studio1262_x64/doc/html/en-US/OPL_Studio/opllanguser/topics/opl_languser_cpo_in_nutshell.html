<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="OPL CP Optimizer in a nutshell" />
<meta name="abstract" content="Provides the basics of using constraint programming in an OPL model." />
<meta name="Description" content="Provides the basics of using constraint programming in an OPL model." />
<meta name="DC.subject" content="CP Optimizer, search space, size, decision expressions, in CP, decision variables, domain in CP, discrete only in CP, constraint programming, in a nutshell, dexpr, OPL keyword, floating point expressions in CP, search strategy, constructive strategies, scheduling" />
<meta name="keywords" content="CP Optimizer, search space, size, decision expressions, in CP, decision variables, domain in CP, discrete only in CP, constraint programming, in a nutshell, dexpr, OPL keyword, floating point expressions in CP, search strategy, constructive strategies, scheduling" />
<meta name="DC.Relation" scheme="URI" content="../../scheduling_gs/topics/opl_gs_sched_with_cplex_studio.html" />
<meta name="DC.Relation" scheme="URI" content="../../opllangref/topics/opl_langref_scheduling.html" />
<meta name="DC.Relation" scheme="URI" content="../../opllangref/topics/opl_langref_constraints.html" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/opllanguser/topics/opl_languser_intro_cp.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usropllangtut.uss_langtut_intro.1015992" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/opllanguser/topics/opl_languser_intro_cp.html" />
<title>OPL CP Optimizer in a nutshell</title>
</head>
<body role="main" id="usropllangtut.uss_langtut_intro.1015992">
<h1 class="title topictitle1">OPL CP Optimizer in a nutshell</h1>
<div class="body conbody"><div class="abstract"><div class="shortdesc">Provides the basics of using constraint programming
in an OPL model.</div>
 <p class="p">A CP model must be declared as such.
It uses only discrete decision variables for which you must define
a domain. The product of all domain sizes makes up the search space.
CP models are further characterized by specific constraints and expressions,
and parameterizable propagation, and search.</p>
 </div>
<p class="p">If you already have experience of constraint programming with OPL
3.x, read also <em class="ph i">Data preprocessing</em> in <a class="xref" href="../../oplmigration/topics/opl_mig_prev_3x4x_3xCP.html" title="Provides a quick-reference list of the changes you need to make to an existing OPL 3.x model that uses Constraint Programming (CP) for it to be compatible with OPL 6.x.">Migration from OPL 3.x (CP projects)</a>. </p>
<p class="p">Here are the basics of using constraint programming in an OPL model.
Read the CP Optimizer documentation for details.</p>
<ol class="ol"><li class="li"><p class="p"><strong class="ph b">Declaration</strong>: A CP model must start with the statement</p>
<p class="p"> <samp class="ph codeph">using
CP;</samp> </p>
 <p class="p">Otherwise, it will be considered an MP model
solved by the CPLEX engine.</p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Decision variables:</strong> Use only discrete variables as decision
variables.</p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Decision expressions: </strong>It is possible to constrain floating
point expressions, or to use them as an objective term. It is also
possible to declare floating-point expressions with the <samp class="ph codeph">dexpr</samp> keyword,
as in the <span class="ph filepath">floatexpr.mod</span> code sample. </p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Domain definition:</strong> From OPL 5.2 onwards, you must define
domains for your decision variables. CP does not work well with undefined
domains.</p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Search space:</strong> The search space is the product of all
domain sizes, measured by its log (base 2). The search space is a
measure of how difficult a problem is for the CP Optimizer engine.
It is also a limit for the Preview Edition of CPLEX Optimization Studio.</p>
<p class="p">See
the <a class="xref" href="../../glossary/glossary.html#glossary">Glossary</a> for
a definition of search space..</p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Constraints and expressions:</strong> Specific arithmetic, logical,
temporal, and specialized constraints and expressions are supported
by the CP Optimizer engine for CP combinatorial and scheduling models.
See <a class="xref" href="../../opllangref/topics/opl_langref_constraints_types_inCP.html" title="Lists the types of constraints and expressions available in OPL for constraint programming models. See the OPL Language Quick Reference and the CP Optimizer User’s Manual for further details.">Constraints available in constraint programming</a> in
the <em class="ph i">Language Reference Manual</em>. </p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Parameters:</strong> You can set various parameters for propagation
control, log control, search control, and so on. See <a class="xref" href="../../oplparams/topics/opl_params_cpoptions.html" title="Presents the available constraint programming options which are the OPL equivalents of CP Optimizer parameters.">Constraint programming options</a> in <em class="ph i">Parameters
and settings in OPL</em>.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Propagation:</strong> Constraints in CP model are propagated
at execution time by the CP solving engine. Constraint propagation
is the process of communicating the domain reduction of a decision
variable to all of the constraints that are stated over this variable.
This process can result in more domain reductions. These domain reductions,
in turn, are communicated to the appropriate constraints. This process
continues until no more variable domains can be reduced or when a
domain becomes empty. In the latter case, an empty domain means that
the model has no solution.</p>
 </li>
<li class="li"><p class="p"><strong class="ph b">Search:</strong> To find a solution, the CP Optimizer search
functionality implicitly generates combinations of values for decision
variables by means of <em class="ph i">constructive strategies</em>. these strategies
are executed and guided towards optimal solutions in order to converge
rapidly. The CP Optimizer search uses a variety of guides and uses
the most appropriated one depending on the model structure and on
constraint propagation. The powerful default search gives satisfactory
results in most cases but in specific cases, you can fine-tune search
strategies.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Search phases:</strong> The engine parameters modify the search
behavior in a global way. The impact of the parameter is the same
on all parts of the model. Sometimes, a useful knowledge of some part
of the model can be used to modify how the search should be performed
on a limited part of the model. In that case, search modifiers can
be used to apply some kind of local search settings on this limited
part. They are applied by specifying which modifiers are to be used
on which variables at each phase. You can specify as many phases as
you want.</p>
 <p class="p">See <a class="xref" href="opl_languser_script_in_cp.html" title="Explains how to use IBM ILOG Script statements to set parameters that control propagation and search and to define search phases.">Using IBM ILOG Script in constraint programming</a>.</p>
 </li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/opllanguser/topics/opl_languser_intro_cp.html" title="Explains what leads to the development of constraint programming and briefly presents OPL CP Optimizer.">Constraint programming</a></div>
</div>
<div class="relinfo"><strong>Related information</strong>:<br />
<div><a class="link" href="../../scheduling_gs/topics/opl_gs_sched_with_cplex_studio.html" title="Introduces the basic building blocks of a scheduling model.">Scheduling with IBM ILOG CPLEX Studio</a></div>
<div><a class="link" href="../../opllangref/topics/opl_langref_scheduling.html" title="Describes how to model scheduling problems in OPL.">Scheduling</a></div>
<div><a class="link" href="../../opllangref/topics/opl_langref_constraints.html" title="Specifies the constraints supported by OPL and discusses various subclasses of constraints to illustrate the support available for modeling combinatorial optimization applications.">Constraints</a></div>
</div>
</div></body>
</html>
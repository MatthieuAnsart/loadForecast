<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Changes to the modeling language" />
<meta name="abstract" content="Describes changes affecting expressions, tuple keys, data consistency, constraint labels, logical constraints and expressions, compatibility." />
<meta name="Description" content="Describes changes affecting expressions, tuple keys, data consistency, constraint labels, logical constraints and expressions, compatibility." />
<meta name="DC.subject" content="expressions, changes in 5.0, keywords, key, key, OPL keyword, tuple keys, with, with, OPL keyword, data, consistency, constraints, names changed to labels, logical expressions, logical constraints, in 5.1, logical, compatibility" />
<meta name="keywords" content="expressions, changes in 5.0, keywords, key, key, OPL keyword, tuple keys, with, with, OPL keyword, data, consistency, constraints, names changed to labels, logical expressions, logical constraints, in 5.1, logical, compatibility" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_50_lang.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="oplrelnotes.uss_reln_from42to50.1042444" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_50_lang.html" />
<title>Changes to the modeling language</title>
</head>
<body role="main" id="oplrelnotes.uss_reln_from42to50.1042444">
<h1 class="title topictitle1">Changes to the modeling language</h1>
<div class="body"><p class="shortdesc">Describes changes affecting expressions, tuple
keys, data consistency, constraint labels, logical constraints and
expressions, compatibility.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_50_lang.html" title="Discusses changes to the OPL language and their impact.">Changes to the language</a></div>
</div>
</div><div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1044269"><h2 class="title topictitle2">Expressions</h2>
<div class="body"><p class="p">See <a class="xref" href="opl_mig_reln_50_supp.html" title="Introduces ILOG Optimization Decision Manager (ODM).">Support for ILOG ODM</a>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1040291"><h2 class="title topictitle2">Tuple keys</h2>
<div class="body"><p class="p">As in databases, some fields can be set as keys. Using
keys in tuple declarations enables you to search, display, etc. on
tuples just by using the keys as unique identifiers. In particular,
slicing is more efficient, and sets use less memory. For example:</p>
<pre class="pre codeblock"><code>tuple nurse {
  key string name;
  int seniority;
  int qualification;
  int payRate;
}</code></pre>
<p class="p">You can access arrays indexed by tuple sets of nurses
by using their names only. Indexing tuples display as key values only.</p>
<p class="p">See the <a class="xref" href="../../../examples/html/opl/nurses/nurses.mod.html">nurses example</a> and <a class="xref" href="../../opllangref/topics/opl_langref_datatypes_tuples.html#usropllangref.uss_langref_datatypes.1055644__usropllangref.uss_langref_datatypes.1057626">Keys in tuple declarations</a> in the <em class="ph i">Language Reference Manual</em>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1040484"><h2 class="title topictitle2">Data consistency</h2>
<div class="body"><p class="p">You can use the keyword <samp class="ph codeph">with</samp> to
ensure that a given part of a tuple belongs to a given set. This syntax
is recommended because it saves memory. For example:</p>
<pre class="pre codeblock"><code>{int} Seniorities = {1, 3, 5};
 {nurse} Nurses with seniority in Seniorities = ...;</code></pre>
<p class="p">See <a class="xref" href="../../opllangref/topics/opl_langref_data_consistency.html" title="Defines the purpose of data consistency and describes data membership and assertions as ways to ensure consistency.">Data consistency</a> in the <em class="ph i">Language
Reference Manual</em>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1041653"><h2 class="title topictitle2">Constraint labels</h2>
<div class="body"><p class="p">Constraint names are deprecated (although still supported)
and replaced by a more powerful and flexible labeling feature which
does not require that you declare the constraint first. For example:</p>
<pre class="pre codeblock"><code>forall(i in r)
  ct: x[i] &lt;= a[i];</code></pre>
<p class="p">See the <a class="xref" href="../../../examples/html/opl/volsay/volsay.mod.html"> volsay.mod example</a> and <a class="xref" href="../../opllangref/topics/opl_langref_constraints_labels.html" title="Explains why label constraints, the benefits, costs, and limitations, how to label constraints, how to use indexed labels, and how to deal with compatibility between constraint names and labels.">Constraint labels</a> in the <em class="ph i">Language
Reference Manual</em>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1040316"><h2 class="title topictitle2">Logical constraints and expressions</h2>
<div class="body"><p class="p">As in CPLEX, you can now use logical constraints and expressions
inside an OPL model solved by CPLEX.</p>
<p class="p">Example:</p>
<pre class="pre codeblock"><code>forall(i in r) (x[i]&lt;=5) || (x[i]&gt;=10);</code></pre>
<p class="p">See the <a class="xref" href="../../../examples/html/opl/foodmanufact/foodmanufact.mod.html"> food manufact example</a> and <a class="xref" href="../../opllanguser/topics/opl_languser_app_areas_cplex.html" title="Demonstrates how to use logical constraints in an application.">Tutorial: Using CPLEX logical constraints</a> in the <em class="ph i">Language
User’s Manual</em>.</p>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from42to50.1042306"><h2 class="title topictitle2">Compatibility</h2>
<div class="body"><div class="section" id="oplrelnotes.uss_reln_from42to50.1042306__oplrelnotes.uss_reln_from42to50.1042308"><h3 class="title sectiontitle">Range expressions</h3><p class="p">Range expressions must have ground boundaries. For example,
the following model is not allowed any more in OPL 5.0, whereas it
was in OPL 4.2.</p>
<pre class="pre codeblock"><code>dvar int x in 0..5;
dvar int y;
minimize x;
subject to {
   0&lt;=y&lt;=x; 
}</code></pre>
<p class="p">In OPL 5.0, you must write:</p>
<pre class="pre codeblock"><code>{
dvar int x in 0..5;
dvar int y;
minimize x;
subject to {
   0&lt;=y;
   y&lt;=x;
}</code></pre>
</div>
</div>
</div>
</body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Operators" />
<meta name="abstract" content="Lists the changes in the syntax of operators." />
<meta name="Description" content="Lists the changes in the syntax of operators." />
<meta name="DC.subject" content="operators, assignment operators, change from 3.7.x to 4.x and later, logical operators, float division, integer division operator, keywords, div, div, OPL keyword, division, float/integer, constraint range expressions, range expressions" />
<meta name="keywords" content="operators, assignment operators, change from 3.7.x to 4.x and later, logical operators, float division, integer division operator, keywords, div, div, OPL keyword, division, float/integer, constraint range expressions, range expressions" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_40_mod.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="oplrelnotes.uss_reln_from37to40.1022881" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_40_mod.html" />
<title>Operators</title>
</head>
<body role="main" id="oplrelnotes.uss_reln_from37to40.1022881">
<h1 class="title topictitle1">Operators</h1>
<div class="body"><p class="shortdesc">Lists the changes in the syntax of operators. </p>
<p class="p">The operator syntax is closer to languages like C++ and
Java. </p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_40_mod.html" title="Describes the changes made to the syntax and types to improve the consistency of the modeling language.">The modeling language</a></div>
</div>
</div><div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from37to40.1022883"><h2 class="title topictitle2">Assignment operator</h2>
<div class="body"><p class="p">The operator <samp class="ph codeph">=</samp> is now always
used for assignments:</p>
<ul class="ul"><li class="li"><p class="p">Data assignment</p>

<pre class="pre codeblock"><code>int n = 3;</code></pre>
</li>
<li class="li"><p class="p">Range assignment</p>

<pre class="pre codeblock"><code>range Workers = 1..nbWorkers;</code></pre>
</li>
<li class="li"><p class="p">Constraint assignment (instead of a
colon <samp class="ph codeph">:</samp> in OPL 3)</p>
</li>
</ul>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022883__oplrelnotes.uss_reln_from37to40.1028107"><h3 class="title sectiontitle">In OPL 3</h3><p class="p">You wrote:</p>
<pre class="pre codeblock"><code>constraint demandCt[Gasolines]; 
forall(g in Gasolines)
   demandCt[g] : sum(o in Oils) blend[o,g] = gas[g].demand + 10*a[g];</code></pre>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022883__oplrelnotes.uss_reln_from37to40.1027257"><h3 class="title sectiontitle">In OPL 4</h3><p class="p">You write:</p>
<pre class="pre codeblock"><code>constraint demandCt[Gasolines]; 
forall(g in Gasolines)
   demandCt[g] = sum(o in Oils) blend[o][g] == gas[g].demand + 10*a[g];</code></pre>
</div>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from37to40.1022898"><h2 class="title topictitle2">Logical operators</h2>
<div class="body"><p class="p">Use this table to replace OPL 3 operators with the equivalent
OPL 4 operators, which are closer to the C++ and Java syntaxes. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oplrelnotes.uss_reln_from37to40.1022898__oplrelnotes.uss_reln_from37to40.1022906" class="table ShadedHead" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Logical operators</span></caption><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e90">Operator</th>
<th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e92">OPL 3</th>
<th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e94">OPL 4</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e90 ">Equality</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e92 ">=</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e94 ">==</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e90 ">Different from</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e92 ">&lt;&gt;</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e94 ">!=</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e90 ">Logical AND</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e92 ">&amp;</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e94 ">&amp;&amp;</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e90 ">Logical OR (disjunction)</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e92 ">\/</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e94 ">||</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022898__oplrelnotes.uss_reln_from37to40.1027264"><h3 class="title sectiontitle">In OPL 3</h3><p class="p">You wrote:</p>
<pre class="pre codeblock"><code>obj = sum(i,j in Bord) (life[i,j]);
{Workers} crew = { c | c in Workers : hire[c] = 1 };
sum (n in neighbor: n&lt;&gt;n1 &amp; n&lt;&gt;n2 &amp; n&lt;&gt;n3) life[i+n.row,j+n.col] &lt;= 2;</code></pre>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022898__oplrelnotes.uss_reln_from37to40.1027269"><h3 class="title sectiontitle">In OPL 4</h3><p class="p">You write:</p>
<pre class="pre codeblock"><code>obj == sum(i,j in Bord) (life[i][j]);
{int} crew = { c | c in Workers : hire[c] == 1 };
sum (nb in neighbor: nb!=n1 &amp;&amp; nb!=n2 &amp;&amp; nb!=n3) life[i+nb.row][j+nb.col] &lt;= 2;</code></pre>
</div>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from37to40.1024001"><h2 class="title topictitle2">Integer division</h2>
<div class="body"><div class="section" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1024018"><h3 class="title sectiontitle">In OPL 3</h3><p class="p">The operator <samp class="ph codeph">/</samp> was used for
both the float division <em class="ph i">and</em> the integer division, depending on the type of the divisor. In this
context, the result of the float division</p>
<pre class="pre codeblock"><code>3/2.0 </code></pre>
<p class="p">was </p>
<pre class="pre codeblock"><code>1.5</code></pre>
<p class="p">and the result of the integer division</p>
<pre class="pre codeblock"><code>3/2 </code></pre>
<p class="p">was </p>
<pre class="pre codeblock"><code>1</code></pre>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1027634"><h3 class="title sectiontitle">In OPL 4</h3><p class="p">The operator <samp class="ph codeph">/</samp> always calls
a float division, whether you use a float or an integer as the divisor.
As a consequence, the result of </p>
<pre class="pre codeblock"><code>3/2 </code></pre>
<p class="p">is </p>
<pre class="pre codeblock"><code>1.5</code></pre>
<p class="p">To call the integer division, you must use the keyword <samp class="ph codeph">div</samp>. The result of </p>
<pre class="pre codeblock"><code>3 div 2 </code></pre>
<p class="p">is then</p>
<pre class="pre codeblock"><code>1</code></pre>
<p class="p">If you want a float division while using an integer as
the divisor, use the <samp class="ph codeph">/</samp> operator.</p>
<p class="p">This change has been decided to avoid confusion between
the two division operators, although Java and C++ work in the same
way as OPL 3 in this respect.</p>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1024022"><h3 class="title sectiontitle">Modulo</h3><p class="p">To be closer to the Java and ILOG Script/JavaScript syntax,
the operator <samp class="ph codeph">%</samp> has been added for modulo,
but the keyword <samp class="ph codeph">mod</samp> remains available.</p>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1027811"><h3 class="title sectiontitle">In OPL 3</h3><pre class="pre codeblock"><code>int k = n mod 2;</code></pre>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1024026"><h3 class="title sectiontitle">In OPL 4</h3><p class="p">You can choose to write:</p>
<pre class="pre codeblock"><code>int k = n mod 2;</code></pre>
<p class="p">or</p>
<pre class="pre codeblock"><code>int k = n % 2;</code></pre>
<p class="p">as you prefer. <a class="xref" href="opl_mig_reln_40_mod_oper.html#oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1027820">Table 2</a> summarizes these changes. </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="oplrelnotes.uss_reln_from37to40.1024001__oplrelnotes.uss_reln_from37to40.1027820" class="table ShadedHead" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 2. Division</span></caption><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e264">Operator</th>
<th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e266">OPL 3</th>
<th class="entry" align="left" valign="top" width="33.33333333333333%" id="d801340e268">OPL 4</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e264 ">Integer division</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e266 ">/</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e268 ">div</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e264 ">float division</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e266 ">/</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e268 ">/</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" width="33.33333333333333%" headers="d801340e264 ">modulo</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e266 ">mod</td>
<td class="entry" valign="top" width="33.33333333333333%" headers="d801340e268 ">% or mod</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="topic nested1" xml:lang="en-us" id="oplrelnotes.uss_reln_from37to40.1022964"><h2 class="title topictitle2">Constraint range expressions with multiple operands</h2>
<div class="body"><p class="p">Constraint range expressions are supported with no more
than three operands. However, these range expressions need ground
boundary expressions.</p>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022964__oplrelnotes.uss_reln_from37to40.1027292"><h3 class="title sectiontitle">In OPL 3</h3><p class="p">You wrote:</p>
<pre class="pre codeblock"><code>x &lt;= y &lt;= z &lt;= t;</code></pre>
</div>
<div class="section" id="oplrelnotes.uss_reln_from37to40.1022964__oplrelnotes.uss_reln_from37to40.1027297"><h3 class="title sectiontitle">In OPL 4</h3><p class="p">You write:</p>
<pre class="pre codeblock"><code>x &lt;= y &lt;= z;
z &lt;= t;</code></pre>
<p class="p">The only operators defined for such expressions are <samp class="ph codeph">&lt;</samp> and <samp class="ph codeph">&lt;=.</samp> </p>
</div>
</div>
</div>
</body>
</html>
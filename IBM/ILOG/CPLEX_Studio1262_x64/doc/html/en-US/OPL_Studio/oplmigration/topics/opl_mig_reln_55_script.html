<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Scripting" />
<meta name="abstract" content="Lists the improvements in OPL scripting." />
<meta name="Description" content="Lists the improvements in OPL scripting." />
<meta name="DC.subject" content="scripting, changes in 5.5, ILOG Script, ending objects" />
<meta name="keywords" content="scripting, changes in 5.5, ILOG Script, ending objects" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_55.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="oplrelnotes.uss_reln_from52to55.1050555" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_55.html" />
<title>Scripting</title>
</head>
<body role="main" id="oplrelnotes.uss_reln_from52to55.1050555">
<h1 class="title topictitle1">Scripting</h1>
<div class="body"><p class="shortdesc">Lists the improvements in OPL scripting.</p>
<div class="section" id="oplrelnotes.uss_reln_from52to55.1050555__oplrelnotes.uss_reln_from52to55.1050557"><h2 class="title sectiontitle">The setCoef methods</h2><p class="p">The methods <span class="keyword apiname">IloConstraint.setCoef</span> and <span class="keyword apiname">IloObjective.setCoef</span> have been
fixed in ILOG Concert. They are now allowed only when the expression
inside the range or objective is a simple real linear expression (like <samp class="ph codeph">x+y</samp>). These methods do not work for aggregate sums.
For aggregate sums, you have to use the methods directly on the CPLEX
instance:</p>
<pre class="pre codeblock"><code>cplex.setObjCoef(dvar, coef) </code></pre>
<p class="p">and </p>
<pre class="pre codeblock"><code>cplex.setCoef(ct, dvar, coef)</code></pre>
<p class="p">These instructions directly change the engine representation
without going through Concert.</p>
</div>
<div class="section" id="oplrelnotes.uss_reln_from52to55.1050555__oplrelnotes.uss_reln_from52to55.1049528"><h2 class="title sectiontitle">Ending intermediate elements</h2><p class="p">You can now end the OPL elements you don’t need
in any scripting context, not only in flow control. This allows you
to reduce overall memory consumption by ending intermediate elements.
See <a class="xref" href="../../opllanguser/topics/opl_languser_script_intro_tips.html" title="Comments on various characteristics of IBM ILOG Script for OPL of which you should be aware when writing script statements.">A few tips on scripting</a> in the <em class="ph i">Language User’s Manual</em> for
general information on writing scripts.</p>
</div>
<div class="section" id="oplrelnotes.uss_reln_from52to55.1050555__oplrelnotes.uss_reln_from52to55.1049532"><h2 class="title sectiontitle">Improved sharing of data between models</h2><p class="p">In flow control scripting, OPL memory management has
been improved, so that the <span class="keyword apiname">end</span> method
now frees as much memory as possible, just as the method <span class="keyword apiname">endAll</span> used to do so far. Therefore, you can now
share data across model instances and control memory consumption efficiently
using the method <span class="keyword apiname">IloOplModel.end</span>.
As a consequence, the method <span class="keyword apiname">endAll</span> is now deprecated.</p>
</div>
<div class="section" id="oplrelnotes.uss_reln_from52to55.1050555__oplrelnotes.uss_reln_from52to55.1049620"><h2 class="title sectiontitle">OPL functions in script statements</h2><p class="p">You can use most OPL modeling functions, especially to
handle sets, within ILOG Script statements if you introduce them with
the <samp class="ph codeph">Opl</samp> namespace. As a result, you can
carry out more data processing; for example, accessing functions such
as <samp class="ph codeph">item</samp> or <samp class="ph codeph">ord</samp>. See <a class="xref" href="../../opllang_quickref/topics/opl_functions_top.html" title="Description, syntax, and example for each individual OPL function.">OPL functions</a> in the <em class="ph i">Language
Quick Reference</em>. </p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/oplmigration/topics/opl_mig_reln_55.html" title="These release notes highlight improvements and new features in OPL 5.5. Please review these notes before using OPL 5.5.">New and changed in OPL 5.5</a></div>
</div>
</div></body>
</html>
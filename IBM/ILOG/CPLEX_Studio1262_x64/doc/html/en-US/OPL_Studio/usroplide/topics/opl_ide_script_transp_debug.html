<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="task" />
<meta name="DC.Title" content="Debugging a preprocessing script" />
<meta name="abstract" content="Describes the successive debugging steps." />
<meta name="Description" content="Describes the successive debugging steps." />
<meta name="DC.subject" content="debugging, preprocessing scripts, removing, breakpoint, breakpoints, adding/removing, buttons, Debug, Debug button, tuple sets, in call stack, ellipsis, in call stack, tooltips, values in tuple set, Step Over, Step Over button, Step Into, Step Into button, Step Out button, Step Out" />
<meta name="keywords" content="debugging, preprocessing scripts, removing, breakpoint, breakpoints, adding/removing, buttons, Debug, Debug button, tuple sets, in call stack, ellipsis, in call stack, tooltips, values in tuple set, Step Over, Step Over button, Step Into, Step Into button, Step Out button, Step Out" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usroplide.uss_ide_scripting.154212" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" />
<title>Debugging a preprocessing script</title>
</head>
<body role="main" id="usroplide.uss_ide_scripting.154212">
<h1 class="title topictitle1">Debugging a preprocessing script</h1>
<div class="body taskbody"><p class="shortdesc">Describes the successive debugging steps.</p>
<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">About this task</h2></div> <p class="p">This section covers the successive debugging steps:</p>
 <ul class="ul"><li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.143007">Adding a breakpoint to a preprocessing script</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.121470">Examining the preprocessing call stack</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.131434">Stepping out of an execute function</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.131160">Stepping into a function</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.131574">Stepping out of a lower-level function</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_transp_debug.html#usroplide.uss_ide_scripting.138606">Monitoring a function in a loop</a> </p>
 </li>
</ul>
 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" title="Presents the example and explains how to execute it and debug the preprocessing script.">The transportation example</a></div>
</div>
</div><div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.143007"><h2 class="title topictitle2">Adding a breakpoint to a preprocessing script</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">You are going to add a breakpoint to set the debugging mode, then execute the script again, using this time the <span class="ph uicontrol">Debug</span> button.</p>
 <p class="p">To add a breakpoint:</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">In the <span class="ph uicontrol">transp4.mod</span> file, scroll to the line containing the <samp class="ph codeph">printRoute</samp> function in the <samp class="ph codeph">DISPLAY</samp> <samp class="ph codeph">execute</samp> block. </span> <pre class="pre codeblock"><code>function printRoute(r)</code></pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Double-click in the grey margin to the left of the line. </span> <p class="p">A blue dot appears in the margin of the editing area to signal the breakpoint.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the main toolbar, click the arrow to the right of the <span class="ph uicontrol">Debug</span> button <img class="image" src="../../_shared/images/icon_opl_debug_as.png" alt="Debug button" /> and select <span class="ph uicontrol">1 transp Even better sparsity</span> to run the script.</span> <p class="p">Execution stops at the breakpoint and information appears in the Variables view and the <span class="ph uicontrol">Scripting log</span>.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.143007__usroplide.uss_ide_scripting.121387"><span class="figcap">Figure 1. Execution stopped at the breakpoint in <samp class="ph codeph">transp4.mod</samp> </span><div class="image"><img class="image" src="../images/scriptbreak29.jpg" alt="Execution stopped at a breakpoint" /></div></div>
</li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.121470"><h2 class="title topictitle2">Examining the preprocessing call stack</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">The call stack, showing nested function calls, is displayed in the <span class="ph uicontrol">Debug</span> view. The content of a selected call frame is displayed in the <span class="ph uicontrol">Variables</span> view.</p>
 <p class="p">In this example, the call stack contains one call frame, <samp class="ph codeph">[transp4.mod:67]</samp>.</p>
 <div class="fig fignone"><span class="figcap">Figure 2. Debug view for <samp class="ph codeph">transp4.mod</samp></span><div class="image"><img class="image" src="../images/debug_view_transp4.jpg" alt="Call stack in Debug view" /></div></div>
 <div class="fig fignone" id="usroplide.uss_ide_scripting.121470__usroplide.uss_ide_scripting.121455"><span class="figcap">Figure 3. Variables view for call frame <samp class="ph codeph">[transp4.mod:67]</samp> <samp class="ph codeph">(transp4.mod)</samp></span><div class="image"><img class="image" src="../images/stacktransp430.jpg" alt="Variables view for transp4.mod in transp example" /></div></div>
 <p class="p">For a large tuple set, the values may not all be visible within the window. In this case, an ellipsis appears at the end of the cell. Pass the cursor over the column to display all the values in a tooltip.</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Step Over</span> <img class="image" src="../images/stepoverbutton31.jpg" alt="Step Over button" /> or <span class="ph uicontrol">Step Into</span> button <img class="image" src="../images/stepintobutton32.jpg" alt="Step Into button" /> repeatedly to watch the value of the variables change in the call stack. The variables are highlighted when their values change.</span> <div class="fig fignone" id="usroplide.uss_ide_scripting.121470__usroplide.uss_ide_scripting.136618"><span class="figcap">Figure 4. The Variables view after stepping </span><div class="image"><img class="image" src="../images/stacklooptransp433.jpg" alt="Script Objects window" /></div></div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.131434"><h2 class="title topictitle2">Stepping out of an execute function</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">If you are stepping in an <samp class="ph codeph">execute</samp> statement and the current instruction is within a loop (<samp class="ph codeph">for</samp>, <samp class="ph codeph">forall</samp>, <samp class="ph codeph">while</samp>, or <samp class="ph codeph">repeat</samp>), you can make the IDE execute the loop without stopping at instructions by stepping out of the <samp class="ph codeph">execute</samp> function using the <span class="ph uicontrol">Step Return</span> <img class="image" src="../images/stepoutbutton34.jpg" alt="Step Return button" /> button. The IDE executes the entire loop, then stops at the first instruction after the loop.</p>
 <p class="p">The <span class="ph uicontrol">Step Return</span> button allows you to step out of a function in a script, to the statement following the function call. For example, if you were to click the <span class="ph uicontrol">Step Return</span> button at this statement:</p>
 <pre class="pre codeblock"><code>writeln("Routes":); </code></pre>
 <p class="p">the current instruction becomes:</p>
 <pre class="pre codeblock"><code>for (var r in Routes) {</code></pre>
 <div class="fig fignone" id="usroplide.uss_ide_scripting.131434__usroplide.uss_ide_scripting.134068"><span class="figcap">Figure 5. Stepping out of an <samp class="ph codeph">execute</samp> function <samp class="ph codeph">(transp4.mod)</samp></span><div class="image"><img class="image" src="../images/stepoutafter35.jpg" alt="Stepping out of an execute function" /></div></div>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Click the <span class="ph uicontrol">Step Over</span> button <img class="image" src="../images/stepoverbutton36.jpg" alt="Step Over button" /> to execute the instruction.</span> <p class="p">If you open the nodes in the call stack, you can see the CPLEX parameter setting listed for the predefined <samp class="ph codeph">cplex</samp> object.</p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Click <span class="ph uicontrol">Step Over</span> four more times.</span> <p class="p">The current instruction is now:</p>
<pre class="pre codeblock"><code>printRoute(r);</code></pre>
 <p class="p">Note that <span class="ph uicontrol">Step Over</span> does not move to the statement within the function because it is at a lower level.</p>
</li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.131160"><h2 class="title topictitle2">Stepping into a function</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">The <span class="ph uicontrol">Step Into</span> button <img class="image" src="../images/stepintobutton37.jpg" alt="Step Into button" /> allows you to step into a function. Use it to step to:</p>
 <ul class="ul"><li class="li"><p class="p">the first statement, or </p>
 </li>
<li class="li"><p class="p">to the instruction after the current one if there is no function called.</p>
</li>
</ul>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">To step into the <samp class="ph codeph">printRoute(r)</samp> function, click the <span class="ph uicontrol">Step Into</span> button.</span> <p class="p">The IDE executes the current instruction and the blue arrow in the margin moves to the first line in the function:</p>
<pre class="pre codeblock"><code>write("  ",r.p,":");</code></pre>
<div class="fig fignone" id="usroplide.uss_ide_scripting.131160__usroplide.uss_ide_scripting.131178"><span class="figcap">Figure 6. Stepping into a function <samp class="ph codeph">(transp4.mod)</samp></span><div class="image"><img class="image" src="../images/stepinto38.jpg" alt="Stepping into a function" /></div></div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.131574"><h2 class="title topictitle2">Stepping out of a lower-level function</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Step Return</span> button <img class="image" src="../images/stepoutbutton39.jpg" alt="Step Return button" /> to execute the <samp class="ph codeph">write</samp> and <samp class="ph codeph">writeln</samp> statements, and step out of the <samp class="ph codeph">printRoute(r)</samp> function.</span> <p class="p">The current instruction becomes:</p>
<pre class="pre codeblock"><code>for (var r in Routes) {</code></pre>
<p class="p">because the loop iteration is completed and so the next instruction is the <samp class="ph codeph">loop</samp> statement.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.131574__usroplide.uss_ide_scripting.137741"><span class="figcap">Figure 7. Stepping out of the PrintRoute(r) function <samp class="ph codeph">(transp4.mod)</samp></span><div class="image"><img class="image" src="../images/stepoutafter240.jpg" alt="Stepping out of a function" /></div></div>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.138606"><h2 class="title topictitle2">Monitoring a function in a loop</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">To continue execution, stopping at each pass through the <samp class="ph codeph">printRoute(r)</samp> function, click the <span class="ph uicontrol">Step Into</span> button <img class="image" src="../images/stepintobutton41.jpg" alt="Step Into button" /> repeatedly. </span></div>
<div class="section result"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Results</h3></div> <p class="p">The routes appear one at a time in the <span class="ph uicontrol">Scripting log</span>.</p>
 <p class="p">Note that the <span class="ph uicontrol">Step Into</span> button can continue iterating through the loop as well as stepping into the function. When the loop is completed, the statement is also complete and so the model is solved.</p>
  <p class="p">At any point you can continue execution to the end of the script without stopping by clicking the <span class="ph uicontrol">Resume</span> button <img class="image" src="../images/continuerunbutton42.jpg" alt="Continue button" /> in the Debug view.</p>
 </div>
</div>
</div>
</body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="task" />
<meta name="DC.Title" content="Setting up the transportation model and data" />
<meta name="abstract" content="Describes the model and data files." />
<meta name="Description" content="Describes the model and data files." />
<meta name="DC.subject" content="execute, IBM ILOG Script block, transportation example" />
<meta name="keywords" content="execute, IBM ILOG Script block, transportation example" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usroplide.uss_ide_scripting.121114" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" />
<title>Setting up the transportation model and data</title>
</head>
<body role="main" id="usroplide.uss_ide_scripting.121114">
<h1 class="title topictitle1">Setting up the transportation model and data</h1>
<div class="body taskbody"><p class="shortdesc">Describes the model and data files.</p>
<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">About this task</h2></div> <p class="p">To start working with this example:</p>
 </div>
<div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Use the <span class="ph menucascade"><span class="ph uicontrol">File</span> &gt; <span class="ph uicontrol">New</span> &gt; <span class="ph uicontrol">Example</span></span> menu command to open the <span class="ph uicontrol">transp</span> example.</span> <p class="p">The IDE displays the <samp class="ph codeph">transp</samp> project in the OPL Projects Navigator. Open the model file in the editing area. </p>
</li>
<li class="li step stepexpand"><span class="ph cmd">Double-click <span class="ph uicontrol">transp4.mod</span> to display the model in the editor.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Scroll to the <samp class="ph codeph">execute</samp> blocks.</span> <p class="p">There are three preprocessing <samp class="ph codeph">execute</samp> blocks before the objective, as shown below.</p>
<p class="p exampletitle" id="usroplide.uss_ide_scripting.121114__usroplide.uss_ide_scripting.149539">Preprocessing statements <samp class="ph codeph">(transp4.mod)</samp></p>
<pre class="pre codeblock"><code>execute PARAMS {
  cplex.tilim = 100;
}

execute SETTINGS {
  settings.displayComponentName = true;
  settings.displayWidth = 40;
  writeln("Routes: ",Routes);
}

execute DISPLAY {
  function printRoute(r) {
    write("  ",r.p,":");
    writeln(r.e.o,"-&gt;",r.e.d);
  }

  writeln("Routes:");
  for (var r in Routes) {
    printRoute(r);
  }
}</code></pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">The data is initialized in the <samp class="ph codeph">transp4.dat</samp> data file. You can double-click <span class="ph uicontrol">transp4.dat</span> to open that file in the editing area if you want to follow along with what is being described below.</span> <p class="p">Note that the tuple set <samp class="ph codeph">TableRoutes</samp> is database-friendly in that it would allow the loading of data on routes and costs with a single SELECT statement.</p>
<p class="p">In this example, the tuples in set <samp class="ph codeph">TableRoutes</samp> and in arrays <samp class="ph codeph">Supply</samp> and <samp class="ph codeph">Demand</samp> are explicitly initialized in the data file because the matrix is sparse and only some tuples exist.</p>
<p class="p">The model requires routes and costs separately, so in the model file, the tuples in tuple set <samp class="ph codeph">Routes</samp> are derived from those in <samp class="ph codeph">TableRoutes</samp> and the tuples in sets <samp class="ph codeph">Supplies</samp> and <samp class="ph codeph">Customers</samp> are then derived from those in <samp class="ph codeph">Routes</samp>.</p>
</li>
</ol>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_transp.html" title="Presents the example and explains how to execute it and debug the preprocessing script.">The transportation example</a></div>
</div>
</div></body>
</html>
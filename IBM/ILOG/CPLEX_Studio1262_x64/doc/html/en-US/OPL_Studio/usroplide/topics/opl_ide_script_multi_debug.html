<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="task" />
<meta name="DC.Title" content="Debugging a flow control script" />
<meta name="abstract" content="Describes breakpoint management, call stack display, variable object examination, and stepping." />
<meta name="Description" content="Describes breakpoint management, call stack display, variable object examination, and stepping." />
<meta name="DC.subject" content="run configurations, executing using the Debug button, flow control, debugging a script, debugging, flow control script, buttons, Debug, Debug button, Step Over, Step Over button, removing, breakpoint, breakpoints, adding/removing, Step Over, blue arrow, Step Into, Step Into button, and Run to Cursor button, Run to Cursor button, Run to Cursor button, Continue button, execution, abort, aborting execution, Abort Execution button, idle state" />
<meta name="keywords" content="run configurations, executing using the Debug button, flow control, debugging a script, debugging, flow control script, buttons, Debug, Debug button, Step Over, Step Over button, removing, breakpoint, breakpoints, adding/removing, Step Over, blue arrow, Step Into, Step Into button, and Run to Cursor button, Run to Cursor button, Run to Cursor button, Continue button, execution, abort, aborting execution, Abort Execution button, idle state" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/usroplide/topics/opl_ide_script_multi.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usroplide.uss_ide_scripting.119572" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_multi.html" />
<title>Debugging a flow control script</title>
</head>
<body role="main" id="usroplide.uss_ide_scripting.119572">
<h1 class="title topictitle1">Debugging a flow control script</h1>
<div class="body taskbody"><p class="shortdesc">Describes breakpoint management, call stack display, variable
object examination, and stepping.</p>
<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">About this task</h2></div> <p class="p">You are now going to learn how to debug a script. The
debug features in the IDE are breakpoint management, call stack display,
variable object examination, and stepping.</p>
 <p class="p">A simple debugging
scenario is to place a breakpoint in a script, execute the script
by means of the <span class="ph uicontrol">Debug</span> button <img class="image" src="../../_shared/images/icon_opl_debug_as.png" alt="Debug button" />, examine the call stack, and then
interactively execute statements using the <span class="ph uicontrol">Step Over</span> button.</p>
 <p class="p">This
section covers the successive debugging steps:</p>
 <ul class="ul"><li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.119578">Adding a breakpoint to a flow control script</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.136051">Examining the flow control call stack</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.120414">Stepping to the next instruction</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.120698">Aborting execution</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.123250">Continuing without stepping</a> </p>
 </li>
<li class="li"><p class="p"> <a class="xref" href="opl_ide_script_multi_debug.html#usroplide.uss_ide_scripting.123267">Ending execution</a> </p>
 </li>
</ul>
 </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/usroplide/topics/opl_ide_script_multi.html" title="Presents the example and explains how to execute it and debug the flow control script.">The multiperiod production planning example</a></div>
</div>
</div><div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.119578"><h2 class="title topictitle2">Adding a breakpoint to a flow control script</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">Still using the <span class="ph uicontrol">Solve models sequence by changing
data</span> run configuration of the <samp class="ph codeph">mulprod</samp> model,
you are going to add a breakpoint to set the debugging mode, then
execute the script again, using this time the <span class="ph uicontrol">Debug</span> button.</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">If it is not already open, double-click the <span class="ph uicontrol">mulprod_main.mod</span> file
in the editing area and scroll down to this line just before the loop:</span> <pre class="pre codeblock"><code>var curr = Infinity;</code></pre>
</li>
<li class="li step stepexpand"><span class="ph cmd">Right-click in the grey margin to the left of this
line. From the popup menu, select <span class="ph uicontrol">Toggle Breakpoint</span> and
a blue dot appears in the margin of the editing area to signal the
breakpoint.</span> <div class="note note"><span class="notetitle">Note:</span>  <p class="p">To remove a breakpoint, right-click
and select again <span class="ph uicontrol">Toggle Breakpoint</span> to make
the blue dot disappear.</p>
 <p class="p">You can also double-click in the grey
margin to set and remove breakpoints.</p>
 </div>
<div class="fig fignone"><span class="figcap">Figure 1. Inserting
a breakpoint</span><div class="image"><img class="image" src="../images/togglebreakpoint.jpg" alt="Inserting a breakpoint before debugging" /></div></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">In the main toolbar, click the arrow on
the <span class="ph uicontrol">Debug</span> button <img class="image" src="../../_shared/images/icon_opl_debug_as.png" alt="Debug icon" /> in the toolbar and select <span class="ph uicontrol">1
mulprod Solve models sequence by changing data</span> to run
the script.</span> <p class="p">Execution stops at the breakpoint and a
blue arrow in the margin shows the current position, as shown below.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.119578__usroplide.uss_ide_scripting.120448"><span class="figcap">Figure 2. A breakpoint before
the loop of the script (<samp class="ph codeph">mulprod_main.mod</samp>)</span><div class="image"><img class="image" src="../images/breakpointset8.jpg" alt="Inserting a breakpoint" /></div></div>
</li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.136051"><h2 class="title topictitle2">Examining the flow control call stack</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">The call stack is now spread over two views: the Debug view, representing the call stack
(showing nested function calls) and the Variables view, showing the content of the selected call
frame.</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">The call stack appears in the <span class="ph uicontrol">Debug</span> view.
Each function called has information in a stack frame. In this example,
there is one frame, <samp class="ph codeph">[mulprod_main.mod:58]</samp>.</span> <p class="p">Click
the <strong class="ph b">+</strong> and <strong class="ph b">–</strong> sign as necessary to expand or collapse
nodes.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.136051__usroplide.uss_ide_scripting.135916"><span class="figcap">Figure 3. The
call stack in the Debug view <samp class="ph codeph">(mulprod_main.mod)</samp></span><div class="image"><img class="image" src="../images/scriptobjectswin9.jpg" alt="Call stack" /></div></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">The <span class="ph uicontrol">Variables</span> view shows
the content of the selected call frame. In this example, there is
only one call frame.</span> <div class="image"><img class="image" src="../images/variables_view_mulprod_main.jpg" alt="variables view for the example mulprod_main" /></div><p class="p">Many of the variables
in this example are marked <span class="ph uicontrol">undefined</span> because
they are not decision variables.</p>
</li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.120414"><h2 class="title topictitle2">Stepping to the next instruction</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">When you execute a run configuration in debugging mode,
the <span class="ph uicontrol">Debug</span> view is displayed to enable you to
use the stepping buttons in its toolbar.</p>
 <div class="fig fignone" id="usroplide.uss_ide_scripting.120414__usroplide.uss_ide_scripting.141908"><span class="figcap">Figure 4. Debug toolbar</span><div class="image"><img class="image" src="../images/executiontoolbar10.jpg" alt="The Execution toolbar" /></div></div>
 <p class="p">The <span class="ph uicontrol">Step Over</span> button <img class="image" src="../images/stepoverbutton11.jpg" alt="Step Over button" /> allows you to step through the script instruction
by instruction, executing each instruction as you go. Use it to step
over:</p>
 <ul class="ul"><li class="li"><p class="p">a function and go to the statement after the function call</p>
</li>
<li class="li"><p class="p">an instruction and go to the instruction after it</p>
</li>
</ul>
 <p class="p">When you are stepping in a script, the blue arrow in the
margin keeps track of the current position.</p>
 <p class="p">To step to the
next instruction:</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Click
the <span class="ph uicontrol">Step Over</span> button <img class="image" src="../images/stepoverbutton12.jpg" alt="Step Over button" />. </span> <p class="p">The IDE executes the current
instruction and the blue arrow in the margin moves to the next line,
which is the statement for warm start:</p>
<pre class="pre codeblock"><code>var basis = new IloOplCplexBasis();</code></pre>
<p class="p">as shown below.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.120414__usroplide.uss_ide_scripting.116113"><span class="figcap">Figure 5. Step by step execution
of a script</span><div class="image"><img class="image" src="../images/scriptstepping13.jpg" alt="Stepping through a script" /></div></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">By repeatedly clicking the <span class="ph uicontrol">Step Over</span> button,
you can follow the execution of the loop one instruction after another.</span> <p class="p">Note that the <span class="ph uicontrol">Step Into</span> button <img class="image" src="../images/stepintobutton14.jpg" alt="Step Into button" /> would give the same behavior as <span class="ph uicontrol">Step
Over</span> in this script because there are no functions, so
it just executes the current instruction.</p>
</li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.123250"><h2 class="title topictitle2">Continuing without stepping</h2>
<div class="body taskbody"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><div class="li step"><span class="ph cmd">At
any moment while you are stepping in the script, you can ask the IDE
to continue executing until completion by clicking the <span class="ph uicontrol">Resume</span> button <img class="image" src="../images/continuerunbutton18.jpg" alt="Resume button" /> in the toolbar of the <span class="ph uicontrol">Debug</span> view.</span> <p class="p">The IDE executes the rest of the script without stopping
at instructions. The possible outputs of the script are printed in
the <span class="ph uicontrol">Scripting log</span>.</p>
</div>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.120698"><h2 class="title topictitle2">Aborting execution</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">At any moment while you are stepping in the script, you
can abort execution.</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step stepexpand"><span class="ph cmd">Click
the <span class="ph uicontrol">Abort the current solve</span> button <img class="image" src="../images/abortbutton16.jpg" alt="About current solve button" /> in the execution toolbar of the main window.
(You can also click the <span class="ph uicontrol">Terminate</span> button in
the toolbar of the <span class="ph uicontrol">Debug</span> view.)</span> <p class="p">The <span class="ph uicontrol">Debug</span> view
shows that the status of the execution is 'terminated'.</p>
<div class="fig fignone" id="usroplide.uss_ide_scripting.120698__usroplide.uss_ide_scripting.141942"><span class="figcap">Figure 6. Aborting the execution
of a script in debugging mode</span><div class="image"><img class="image" src="../images/abortscriptdebug17.jpg" alt="Aborting execution of a script" /></div></div>
</li>
<li class="li step stepexpand"><span class="ph cmd">After aborting, you can relaunch the script by clicking
the <span class="ph uicontrol">Debug</span> button.</span></li>
</ol>
</div>
</div>
<div class="topic task nested1" xml:lang="en-us" id="usroplide.uss_ide_scripting.123267"><h2 class="title topictitle2">Ending execution</h2>
<div class="body taskbody"><div class="section context"><div class="tasklabel"><h3 class="sectiontitle tasklabel">About this task</h3></div> <p class="p">To summarize, while stepping through a script, you can
end execution in one of three ways:</p>
 </div>
<div class="tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps"><li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Continue
the current solve</span> button <img class="image" src="../images/continuerunbutton19.jpg" alt="Continue button" />: the IDE completes the script.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Abort the current solve</span> button <img class="image" src="../images/abortbutton20.jpg" alt="Abort Execution button" />: the script terminates without being completed.</span></li>
<li class="li step"><span class="ph cmd">Click the <span class="ph uicontrol">Step Over</span> button <img class="image" src="../images/stepoverbutton21.jpg" alt="Step Over button" /> (or <span class="ph uicontrol">Step Into</span> button <img class="image" src="../images/stepintobutton22.jpg" alt="Step Into button" />, if there are no functions) repeatedly;
the IDE completes the script, instruction by instruction.</span></li>
</ol>
<div class="section result"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Results</h3></div> <p class="p">The output of execution is displayed in the <span class="ph uicontrol">Scripting
log</span>.</p>
 <div class="image"><img class="image" src="../images/mulprod_output_in_scriptlog.jpg" alt="Output in Scripting log for the mulprod example. Run config: Solve models sequence by changing data" /></div> </div>
</div>
</div>
</body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Using data sources" />
<meta name="abstract" content="As an example of working with databases, explains how to connect to a database using OPL instructions." />
<meta name="Description" content="As an example of working with databases, explains how to connect to a database using OPL instructions." />
<meta name="DC.subject" content="data sources, connecting to" />
<meta name="keywords" content="data sources, connecting to" />
<meta name="DC.Relation" scheme="URI" content="../../../OPL_Studio/usroplide/topics/opl_ide_extdata.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="usroplide.uss_ide_datasources.137106" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../OPL_Studio/usroplide/topics/opl_ide_extdata.html" />
<title>Using data sources</title>
</head>
<body role="main" id="usroplide.uss_ide_datasources.137106">
<h1 class="title topictitle1">Using data sources</h1>
<div class="body"><p class="shortdesc">As an example of working with databases, explains how to
connect to a database using OPL instructions.</p>
<div class="section" id="usroplide.uss_ide_datasources.137106__usroplide.uss_ide_datasources.135851"><h2 class="title sectiontitle">Databases
supported</h2><p class="p">IBM® ILOG® OPL interfaces with some of
the RDBMS supported by Rogue Wave DB Link. For a list of the databases
supported by OPL, see <em class="ph i">Supported databases</em> in <a class="xref" href="../../working_environment/topics/opl_working_env_TOP.html" title="OPL models run on Windows and UNIX platforms. They support ODBC, Oracle, DB2, SQL and OLE DB databases, and locate shared libraries in Java and .NET applications.">Working Environment</a>.</p>
</div>
<div class="section" id="usroplide.uss_ide_datasources.137106__usroplide.uss_ide_datasources.135867"><h2 class="title sectiontitle">Connection
prerequisites</h2><ul class="ul"><li class="li"><p class="p">If you are working with Oracle:</p>
 <ul class="ul"><li class="li"><p class="p">As for most database management systems, you must have a user
account and a password allowing you to connect to an existing database.</p>
</li>
<li class="li"><p class="p">The Oracle client must be installed or accessible through the
network.</p>
</li>
</ul>
 </li>
<li class="li"><p class="p">If you are working with ODBC, having Microsoft Access
installed will allow you to view the contents of the tables in the database example. If you want to
use a Microsoft Access Database in your OPL project, you can use the Microsoft Access Database
Engine Redistributable package.</p>

<div class="note note"><span class="notetitle">Note:</span> If you have installed the 64-bit version of CPLEX Optimization Studio, you must install the
64-bit version of the Microsoft Access Database Engine Redistributable package to run the database
example.</div>
 </li>
<li class="li"><p class="p">In order to follow the interactions with the database, some
knowledge of the syntax of the query language SQL is useful.</p>
</li>
</ul>
</div>
<div class="section" id="usroplide.uss_ide_datasources.137106__usroplide.uss_ide_datasources.135896"><h2 class="title sectiontitle">Connection
to a database</h2><p class="p">The OPL keyword <samp class="ph codeph">DBConnection</samp> establishes
a connection to a database. It requires two arguments: the database
client you want to use and the connection string.</p>
<p class="p">The first
argument is a string indicating the name of a database system known
to Rogue Wave DB Link, which is a value such as <samp class="ph codeph">oracle11</samp>.</p>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p"> Before
using a database connection, you must make sure that the corresponding
database client is correctly installed on your system. </p>
 </div>
<p class="p">The
connection string passed as second argument must respect a format
that depends on the target RDBMS.</p>
<p class="p">For an example of connecting
to a Microsoft Access database
through ODBC connectivity, see <a class="xref" href="opl_ide_extdata_oil_db.html" title="Describes the oil database tables and project, and its execution.">The oil database example</a>.</p>
<p class="p">An example of connecting
to an Oracle database is shown below.</p>
</div>
<div class="section" id="usroplide.uss_ide_datasources.137106__usroplide.uss_ide_datasources.135914"><h2 class="title sectiontitle">Connection
to Oracle</h2><p class="p">If
you are using an Oracle database, you should adapt the <samp class="ph codeph">DBConnection</samp> statement
to this case. For example, in this connection string:</p>
<pre class="pre codeblock"><code>DBConnection db("oracle11", "scott/tiger@ilog");</code></pre>
<p class="p">the user <samp class="ph codeph">scott</samp> with the password <samp class="ph codeph">tiger</samp> wants
to connect to the Oracle database called <samp class="ph codeph">ilog</samp>.</p>
<ul class="ul"><li class="li"><p class="p">The string passed as first argument must take the value <samp class="ph codeph">oraclex</samp>,
where x depends on the version of Oracle that the DB Link driver was
built upon. A possible value is <samp class="ph codeph">oracle11</samp>. </p>
 </li>
<li class="li"><p class="p">The connection string passed as second argument must respect
the format:</p>
 <pre class="pre codeblock"><code>[user]/[password][@SQL Net id]</code></pre>
 <p class="p">where:</p>
 <ul class="ul"><li class="li"><p class="p"> <samp class="ph codeph">user</samp> and <samp class="ph codeph">password</samp> indicate
the user name and the password that the database administrator has
already assigned to you.</p>
</li>
<li class="li"><p class="p">the field <samp class="ph codeph">SQL Net id</samp> has the format <samp class="ph codeph">&lt;instance
name&gt;</samp> for SQL Net V2</p>
</li>
</ul>
 </li>
</ul>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../OPL_Studio/usroplide/topics/opl_ide_extdata.html" title="Explains how to connect to data sources from OPL, based on the example of databases, and then provides two practical cases.">Working with external data</a></div>
</div>
</div></body>
</html>
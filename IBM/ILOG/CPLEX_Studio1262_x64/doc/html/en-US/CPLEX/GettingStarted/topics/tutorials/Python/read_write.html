<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Reading and writing CPLEX models to files with Python" />
<meta name="abstract" content="Read models from files and write models to files in an application using the CPLEX Python API." />
<meta name="Description" content="Read models from files and write models to files in an application using the CPLEX Python API." />
<meta name="DC.subject" content="Python API, reading files in, Python API, writing files from" />
<meta name="keywords" content="Python API, reading files in, Python API, writing files from" />
<meta name="DC.Relation" scheme="URI" content="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="descriptiveTopic1235491989242" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" />
<title>Reading and writing CPLEX models to files with Python</title>
</head>
<body role="main" id="descriptiveTopic1235491989242">
<h1 class="title topictitle1">Reading and writing CPLEX models to files with Python</h1>
<div class="body"><p class="shortdesc">Read models from files and write models to files
in an application using the CPLEX Python API.</p>
<p class="p">In general, the methods of the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html" title="(Opens in a new tab or window)">Cplex</a> query,
add, or modify data comprising an optimization problem.</p>
<p class="p">Moreover, the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html" title="(Opens in a new tab or window)">Cplex</a> provides <strong class="ph b">output streams</strong> for general log messages, results, warning
messages, and error messages. A user sets those output streams by
means of the methods <samp class="ph codeph">set_log_stream</samp>, <samp class="ph codeph">set_results_stream</samp>, <samp class="ph codeph">set_warning_stream</samp>,
and <samp class="ph codeph">set_error_stream</samp>. These methods take
either a file object or a filename as an argument; they also accept
the argument <samp class="ph codeph">None</samp> to disable their output. </p>
<p class="p">These methods can also take, as an optional second argument,
a <strong class="ph b">parsing function</strong> that takes a string as input and
returns a string as output. If the user specifies a parsing function,
CPLEX uses that function to process the output to that stream. </p>
<p class="p">By <strong class="ph b">default</strong>, the log and results streams
are set to <samp class="ph codeph">sys.stdout</samp> and the error and
warning streams are set to <samp class="ph codeph">sys.stderr</samp>.</p>
<p class="p">The sample <samp class="ph codeph">lpex1.py</samp> contains
one more line that deserves explanation in the context of reading
and writing files:</p>
<pre class="pre codeblock"><code>my_prob.write("lpex1.lp")</code></pre>
<p class="p">That statement causes <samp class="ph codeph">my_prob</samp> to
write the data it has stored to the file named <samp class="ph codeph">lpex1.lp</samp>.
In this sample, the file is written in <strong class="ph b">LP format</strong>.
The reference manual, <a class="xref" href="../../../../homepages/reffileformatscplex.html">File formats supported by CPLEX</a>, documents
that file format with respect to CPLEX in the topic <a class="xref" href="../../../../FileFormats/topics/LP.html" title="CPLEX conforms to these rules for the LP file format.">LP file format: algebraic representation</a>.</p>
<p class="p">Other formats supported for writing problems to a file
are <strong class="ph b">MPS</strong> and <strong class="ph b">SAV</strong> (also documented by
the  reference
manual, <em class="ph i">File formats supported by CPLEX</em>, in the topic <a class="xref" href="../../../../FileFormats/topics/MPS_synopsis.html" title="CPLEX supports the industry standard MPS file format and offers extensions to it.">MPS file format: industry standard</a> and in <a class="xref" href="../../../../FileFormats/topics/brief_descrip.html#File_formats_reference.uss_reffileformatscplex.167138__File_formats_reference.uss_reffileformatscplex.161816">SAV</a>. </p>
<p class="p">The CPLEX Python API decides which file format to write
based on the extension of the file name; you can also use an optional
format string as an additional argument to specify a file format.
 </p>
<p class="p">The class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html" title="(Opens in a new tab or window)">Cplex</a> also
supports reading of files through its method <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html#read" title="(Opens in a new tab or window)">read</a> and
through its constructor. For example, if <samp class="ph codeph">cpx</samp> is
an instance of the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html" title="(Opens in a new tab or window)">Cplex</a>,
then a call like this:</p>
<pre class="pre codeblock"><code>cpx.read("file.lp")</code></pre>
<p class="p">or like this:</p>
<pre class="pre codeblock"><code>cpx = cplex.Cplex("file.lp")</code></pre>
<p class="p">causes the CPLEX Python API to read a problem from the
formatted file named <samp class="ph codeph">file.lp</samp>.</p>
<div class="note note"><span class="notetitle">Note:</span>  <p class="p">The method <samp class="ph codeph">read</samp> replaces
all data currently stored in the object <samp class="ph codeph">cpx</samp>.</p>
 </div>
<p class="p">MPS and SAV format files are also supported in a similar
way.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" title="Use CPLEX interactively in a Python session, or write an application using the Python API for CPLEX.">Python tutorial</a></div>
</div>
</div></body>
</html>
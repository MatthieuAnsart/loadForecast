<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Quadratic objective information in MPS files" />
<meta name="abstract" content="CPLEX extensions of MPS file format support an objective function containing quadratic terms." />
<meta name="Description" content="CPLEX extensions of MPS file format support an objective function containing quadratic terms." />
<meta name="DC.subject" content="quadratic coefficients, in MPS file format, MPS file format, quadratic coefficients in, QUADOBJ section in, QUADOBJ section in MPS files" />
<meta name="keywords" content="quadratic coefficients, in MPS file format, MPS file format, quadratic coefficients in, QUADOBJ section in, QUADOBJ section in MPS files" />
<meta name="DC.Relation" scheme="URI" content="../../../CPLEX/FileFormats/topics/MPS_ext_synopsis.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="File_formats_reference.uss_reffileformatscplex.156840" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../CPLEX/FileFormats/topics/MPS_ext_synopsis.html" />
<title>Quadratic objective information in MPS files</title>
</head>
<body role="main" id="File_formats_reference.uss_reffileformatscplex.156840">
<h1 class="title topictitle1">Quadratic objective information in MPS files</h1>
<div class="body"><p class="shortdesc">CPLEX extensions
of MPS file format support an objective function containing quadratic
terms.</p>
<p class="p">If you use the CPLEX barrier
optimizer for quadratic programming problems (QPs), then you can specify
quadratic objective coefficients in MPS format in a <samp class="ph codeph">QMATRIX</samp> section.</p>
<p class="p">Following the <samp class="ph codeph">BOUNDS</samp> section,
a <samp class="ph codeph">QMATRIX</samp> section may be specified. Each
line of this section defines one nonzero coefficient of the matrix
Q. Each line should contain two variable names (which must have been
specified in the <samp class="ph codeph">COLUMNS</samp> section) in Fields 2
and 3, followed by a nonzero coefficient value in Field 4.
For each off-diagonal coefficient, two lines must appear: one for
the lower triangular element, and one for the upper triangular element. CPLEX evaluates the quadratic
part of the objective function as 0.5 x'Qx, when the coefficients
of Q are specified in an MPS file.</p>
<p class="p">For example, consider the following problem:</p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" role="presentation" class="table presentation NoBorder" rules="none" frame="void" border="0"><tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top"> Minimize </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> a </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top"> b </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top"> 1/2 </td>
<td class="entry" valign="top"> (a2 </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top"> 4ab </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top"> 7b2) </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> subject to </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> a </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top"> b </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top"> 10 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> a, </td>
<td class="entry" valign="top"> b </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top"> 0 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
</tbody>
</table>
</div>
<p class="p">In MPS format, you may enter the problem in the following
way:  </p>
<pre class="pre codeblock"><code>NAME          problem
ROWS
 N  obj
 G  c1
COLUMNS
    a         obj                  1   c1                   1
    b         obj                  1   c1                   1
RHS
    rhs       c1                  10
QMATRIX
    a         a                    1
    a         b                    2
    b         a                    2
    b         b                    7
ENDATA</code></pre>
<p class="p">You can also enter the quadratic objective coefficients
by using a <samp class="ph codeph">QUADOBJ</samp> section. In this format,
only the upper diagonal elements of the Q matrix are entered. For
the same example, the input with a <samp class="ph codeph">QUADOBJ</samp> section
looks like this:  </p>
<pre class="pre codeblock"><code>NAME          problem
ROWS
 N  obj
 G  c1
COLUMNS
    a         obj                  1   c1                   1
    b         obj                  1   c1                   1
RHS
    rhs       c1                  10
QUADOBJ
    a         a                    1
    a         b                    2
    b         b                    7
ENDATA</code></pre>
<p class="p">If you have a model with quadratic objective information
in MPS format in a <samp class="ph codeph">QUADOBJ</samp>  section of
the following form, you do not have to convert your file in order
for CPLEX to
make use of it.  </p>
<pre class="pre codeblock"><code>varname1 varname2 value</code></pre>
<p class="p">CPLEX can
read that file and interpret the <samp class="ph codeph">QUADOBJ</samp> section
correctly. However, the MPS file writers of CPLEX do not produce a <samp class="ph codeph">QUADOBJ</samp> section
themselves. Instead, they produce a <samp class="ph codeph">QMATRIX</samp> section,
as explained here.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../CPLEX/FileFormats/topics/MPS_ext_synopsis.html" title="CPLEX extends the MPS standard in several ways.">Special records in MPS files: CPLEX extensions</a></div>
</div>
</div></body>
</html>
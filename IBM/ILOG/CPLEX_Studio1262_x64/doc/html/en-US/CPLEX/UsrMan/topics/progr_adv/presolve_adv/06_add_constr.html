<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Adding constraints to the first solution" />
<meta name="abstract" content="Describes the effect of adding constraints after solution." />
<meta name="Description" content="Describes the effect of adding constraints after solution." />
<meta name="DC.Relation" scheme="URI" content="../../../../../CPLEX/UsrMan/topics/progr_adv/presolve_adv/04_reductions_title_synopsis.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="User_manual.uss_advancedPresolve.1002074" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../../../CPLEX/UsrMan/topics/progr_adv/presolve_adv/04_reductions_title_synopsis.html" />
<title>Adding constraints to the first solution</title>
</head>
<body role="main" id="User_manual.uss_advancedPresolve.1002074">
<h1 class="title topictitle1">Adding constraints to the first solution</h1>
<div class="body"><p class="shortdesc">Describes the effect of adding constraints after solution.</p>
<p class="p">Consider adding a constraint to a problem after solving
it. Imagine that you want to optimize a linear program: </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" role="presentation" class="table presentation NoBorder" rules="none" frame="void" border="0"><tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="8" valign="top"> Primal: </td>
<td class="entry" valign="top"> </td>
<td class="entry" rowspan="1" colspan="8" valign="top"> Dual: </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> max </td>
<td class="entry" valign="top">  <em class="ph i">-x1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> min </td>
<td class="entry" valign="top">  <em class="ph i">6y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">5y2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> st </td>
<td class="entry" valign="top">  <em class="ph i">x1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">2x3</em>  </td>
<td class="entry" valign="top"> ≤ </td>
<td class="entry" valign="top">  <em class="ph i">6</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> st </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">-1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> ≤ </td>
<td class="entry" valign="top">  <em class="ph i">5</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> 0 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">2y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x1</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top"> 0 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y3</em>  </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">0</em>  </td>
</tr>
</tbody>
</table>
</div>
<p class="p">Note that the first constraint in the dual (<em class="ph i">y1 </em>≥<em class="ph i"> -1</em>) is redundant. Presolve can use
this information about the dual problem (and complementary slackness)
to conclude that variable <em class="ph i">x1</em> can be fixed to 0 and removed from the presolved model. While it
may be intuitively obvious from inspection of the primal problem that <em class="ph i">x1</em> can be fixed to 0, it is important
to note that dual information (redundancy of the first dual constraint)
is used to prove it formally.</p>
<p class="p">Now consider the addition of a new constraint <em class="ph i">x2 </em>≤<em class="ph i"> 5x1</em>: </p>
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" role="presentation" class="table presentation NoBorder" rules="none" frame="void" border="0"><tbody class="tbody"><tr class="row" valign="top"><td class="entry" rowspan="1" colspan="8" valign="top"> Primal: </td>
<td class="entry" valign="top"> </td>
<td class="entry" rowspan="1" colspan="8" valign="top"> Dual: </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> max </td>
<td class="entry" valign="top">  <em class="ph i">-x1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> min </td>
<td class="entry" valign="top">  <em class="ph i">6y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">5y2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> st </td>
<td class="entry" valign="top">  <em class="ph i">x1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">2x3</em>  </td>
<td class="entry" valign="top"> ≤ </td>
<td class="entry" valign="top">  <em class="ph i">6</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> st </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> - </td>
<td class="entry" valign="top"> 5y3 </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">-1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> ≤ </td>
<td class="entry" valign="top">  <em class="ph i">5</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">y3</em>  </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top"> - 5x1 </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> ≤ </td>
<td class="entry" valign="top"> 0 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">2y1</em>  </td>
<td class="entry" valign="top"> + </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>  </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">1</em>  </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x1</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x2</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">x3</em>  </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top"> 0 </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y1</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y2</em>, </td>
<td class="entry" valign="top"> </td>
<td class="entry" valign="top">  <em class="ph i">y3</em>  </td>
<td class="entry" valign="top"> ≥ </td>
<td class="entry" valign="top">  <em class="ph i">0</em>  </td>
</tr>
</tbody>
</table>
</div>
<p class="p">Our goal is to add the appropriate constraint to the
presolved model and re-optimize. Note, however, that the dual information
presolve used to fix <em class="ph i">x1</em> to 0 was changed by the addition of the new constraint. The first
constraint in the dual is no longer guaranteed to be redundant, so
the original fixing is no longer valid (the optimal solution is now <em class="ph i">x1=1</em>, <em class="ph i">x2=5</em>, <em class="ph i">x3=0</em>). As a result, CPLEX is unable to use the presolved model to re-optimize.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../../../CPLEX/UsrMan/topics/progr_adv/presolve_adv/04_reductions_title_synopsis.html" title="Describes conditions under which a user might restrict presolve.">Restricting presolve reductions</a></div>
</div>
</div></body>
</html>
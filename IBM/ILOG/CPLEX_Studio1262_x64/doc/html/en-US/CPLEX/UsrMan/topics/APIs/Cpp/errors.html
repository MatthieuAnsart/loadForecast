<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Handling errors" />
<meta name="abstract" content="Describes error handling in the C++ API." />
<meta name="Description" content="Describes error handling in the C++ API." />
<meta name="DC.subject" content="error handling, in Concert Technology (C++ API), Concert Technology, error handling (C++ API)" />
<meta name="keywords" content="error handling, in Concert Technology (C++ API), Concert Technology, error handling (C++ API)" />
<meta name="DC.Relation" scheme="URI" content="../../../../../CPLEX/UsrMan/topics/APIs/Cpp/cpp_synopsis.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="User_manual.uss_cplusIloCplex.107109" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../../../CPLEX/UsrMan/topics/APIs/Cpp/cpp_synopsis.html" />
<title>Handling errors</title>
</head>
<body role="main" id="User_manual.uss_cplusIloCplex.107109">
<h1 class="title topictitle1">Handling errors</h1>
<div class="body"><p class="shortdesc">Describes error handling in the C++ API.</p>
<p class="p">In Concert Technology two kinds of errors are distinguished:</p>
<ul class="ul"><li class="li"><p class="p">Programming errors, such as:</p>

<ul class="ul"><li class="li"><p class="p">accessing empty handle objects;</p>
</li>
<li class="li"><p class="p">mixing modeling objects from different
environments;</p>
</li>
<li class="li"><p class="p">accessing Concert Technology array elements
beyond an array’s size; and</p>
</li>
<li class="li"><p class="p">passing arrays of incompatible size
to functions. </p>
<p class="p">Such errors are usually an
oversight of the programmer. After they are recognized and fixed there
is usually no danger of corrupting an application. In a production
application, it is not necessary to handle these kinds of errors. </p>

<p class="p">In Concert Technology such error conditions are handled
using assert statements. If compiled without <samp class="ph codeph">-DNDEBUG</samp> ,
the error check is performed and the code aborts with an error message
indicating which assertion failed. A production application should
then be compiled with the <samp class="ph codeph">-DNDEBUG</samp>  compiler
option, which removes all the checking. In other words, no CPU cycles
are consumed for checking the assertions. </p>
</li>
</ul>
</li>
<li class="li"><p class="p">Runtime errors, such as memory exhaustion.</p>

<p class="p">A correct program assumes that such failures can occur
and therefore must be treated, even in a production application. In
Concert Technology, if such an error condition occurs, an exception
is thrown. </p>
</li>
</ul>
<p class="p">All exceptions thrown by Concert Technology classes (including <samp class="ph codeph">IloCplex</samp>)
are derived from <samp class="ph codeph">IloException</samp>. Exceptions
thrown by algorithm classes such as <samp class="ph codeph">IloCplex</samp> 
are derived from its child class <samp class="ph codeph">IloAlgorithm::Exception</samp>.
The most common exceptions thrown by CPLEX are derived from  <a class="xref hardcodedApiLink" href="../../../../../refcppcplex/html/classes/IloCplex_Exception.html" title="(Opens in a new tab or window)">IloCplex_Exception</a>, a child
class of <samp class="ph codeph">IloAlgorithm::Exception</samp> . </p>
<p class="p">Objects of the exception class <samp class="ph codeph">IloCplex::Exception</samp> 
correspond to the error codes generated by the CPLEX Callable Library.
You query the error code from a caught exception by calling the method:
 </p>
<p class="p"> <span class="keyword apiname"> IloInt</span>  <a class="xref hardcodedApiLink" href="../../../../../refcppcplex/html/classes/IloCplex_Exception.html#getStatus" title="(Opens in a new tab or window)">getStatus</a> <span class="keyword apiname">()
const; </span> </p>
<p class="p">You query the error message by calling the method: </p>
<pre class="pre codeblock"><code>const char* IloException::getMessage() const;</code></pre>
<p class="p">That method is a virtual method inherited from the base
class <samp class="ph codeph">IloException</samp>. If you want to access
only the message for printing to a channel or output stream, it is
more convenient to use the overloaded output operator (<samp class="ph codeph">operator&lt;&lt;</samp> )
provided by Concert Technology for <samp class="ph codeph">IloException</samp>. </p>
<p class="p">In addition to exceptions corresponding to error codes
from the C Callable Library, a <samp class="ph codeph">cplex</samp> object
may throw exceptions pertaining only to <samp class="ph codeph">IloCplex</samp>.
For example, the exception  <a class="xref hardcodedApiLink" href="../../../../../refcppcplex/html/classes/IloCplex_Exception.html#MultipleObjException" title="(Opens in a new tab or window)">MultipleObjException</a> is thrown if a model is extracted containing more
than one objective function. Such additional exception classes are
derived from class  <a class="xref hardcodedApiLink" href="../../../../../refcppcplex/html/classes/IloCplex_Exception.html" title="(Opens in a new tab or window)">IloCplex_Exception</a>; objects
can be recognized by a negative status code returned when calling
method <samp class="ph codeph">getStatus</samp> . </p>
<p class="p">In contrast to most other Concert Technology classes,
exception classes are not handle classes. Thus, the correct type of
an exception is lost if it is caught by value rather than by reference
(that is, using <samp class="ph codeph">catch(IloException&amp; e) {...}</samp> ).
This is one reason that catching <samp class="ph codeph">IloException</samp> 
objects by reference is a good idea, as demonstrated in all examples.
See, for example, <samp class="ph codeph">ilodiet.cpp</samp> . Some derived
exceptions may carry information that would be lost if caught by value.
So if you output an exception caught by reference, you may get a more
precise message than when outputting the same exception caught by
value.</p>
<p class="p">There is a second reason for catching exceptions by reference.
Some exceptions contain arrays to communicate the reason for the failure
to the calling function. If this information were lost by calling
the exception by value, method <samp class="ph codeph">end</samp>  could
not be called for such arrays and their memory would be leaked (until <samp class="ph codeph">env.end</samp> 
is called). After catching an exception by reference, calling the
exception’s method <samp class="ph codeph">end</samp>  will free
all the memory that may be used by arrays (or expressions) of the
actual exception that was thrown. </p>
<p class="p">In summary, the preferred way of catching an exception
is this:  </p>
<pre class="pre codeblock"><code>catch (IloException&amp; e) {
  ...
  e.end();
}</code></pre>
<p class="p">where <samp class="ph codeph">IloException</samp>  may be
substituted for the desired Concert Technology exception class.</p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../../../CPLEX/UsrMan/topics/APIs/Cpp/cpp_synopsis.html" title="Explores the features CPLEX offers to users of C++ to solve mathematical programming problems.">Concert Technology for C++ users</a></div>
</div>
</div></body>
</html>
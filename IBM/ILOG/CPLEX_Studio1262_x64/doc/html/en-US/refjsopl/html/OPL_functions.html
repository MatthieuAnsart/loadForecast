<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		 <!-- C. Chardiny - Set the page titles as in old javascript doclet  -->
		
		    <title>Global Functions for IBM ILOG OPL JavaScript Reference</title>
		
		
		<!-- C. Chardiny JSF1 - link to the template CSS -->
		<link rel="stylesheet" type="text/css" href="ibm.css" title="Style" />
	</head>

	<body>
    <div class="ibm-access"><a href="#ibm-content">
    <img class="ibm-access" src="whitepixel.png" alt="Skip to main content"/>
    </a></div>
    
<!-- ============================== header ================================= -->	
	<!-- C. Chardiny - JSF1 - Add a navigation bar in each class  -->
    <div class='navBar'><a href="index-all.html">Index</a>  <a href="intro.html">Overview</a></div><div class='frameNavBar'>  <a href="index.html" target="_top">FRAMES</a>  <a href="OPL_functions.html" target="_top">NO FRAMES</a></div>
<hr/>
<!-- ============================== class title ============================ -->
<a name="ibm-content">&nbsp;</a>
			<h2 class="classTitle">
				
				
				Global functions
				
			</h2>

<!-- C. Chardiny from old english tempate -->		

		
<!-- ============================== class summary ========================== -->
				<!-- C. Chardiny JST12 - proofread tag  -->
				
		
		<!--	<p class="description"> -->
				
				<!-- C. Chardiny JS01 - module tag  -->
				
				<!-- C. Chardiny JST6 - ilog.undocumented.jsFile tag  -->
								
				
				
				<!-- @note generated notes out of the description -->	
				
				<!-- @example generated Examples out of the description -->
				
				<!--  -->
				
					
					
					
					<!-- C. Chardiny JSN5 - iterating-properties tag  -->
					
					<!-- C. Chardiny JSN5 - index-resolution tag  -->
					
					<!-- C. Chardiny JST2 - available tag  -->
					
					<!-- C. Chardiny JST3 - opl-type tag  -->				
					
					
					<!-- Add support to global functions links -->
						
	<!--		</p> -->
			<hr />
<!-- ============================== constructor summary ==================== -->			
		  	
<!-- ============================== properties summary ===================== -->
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class _global_.">
					 <!-- C. Chardiny - Customize global functions page  -->
					<caption>Global Function Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<!-- C. Chardiny JST2 - available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="OPL_functions.html#IloOplCallJava">IloOplCallJava</a></b>(objectRefOrClassname, methodName, methodSignature, paramN)
								</div>
								<div class="description">This function calls a Java method from a scripting block.</div>
							</td>
						</tr>
					
						<tr>
							<!-- C. Chardiny JST2 - available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="OPL_functions.html#IloOplGetEnv">IloOplGetEnv</a></b>(name)
								</div>
								<div class="description">This function gives access to system environment variables.</div>
							</td>
						</tr>
					
						<tr>
							<!-- C. Chardiny JST2 - available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="OPL_functions.html#IloOplImportJava">IloOplImportJava</a></b>(path)
								</div>
								<div class="description">This function makes some Java classes available in scripting blocks.</div>
							</td>
						</tr>
					
						<tr>
							<!-- C. Chardiny JST2 - available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="OPL_functions.html#includeScript">includeScript</a></b>(path)
								</div>
								<div class="description">This function loads the script file passed as parameter.</div>
							</td>
						</tr>
					
						<tr>
							<!-- C. Chardiny JST2 - available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="OPL_functions.html#Infinity">Infinity</a></b>()
								</div>
								<div class="description"></div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			
<!-- ============================== constructor details ==================== -->		
			
<!-- ============================== Properties details ========================== -->		
			
<!-- ============================== method details ========================= -->		
			
				 <!-- C. Chardiny - Customize global functions page  -->
					<div class='sectionTitle'>Global Function Detail</div>
				
					<a name="IloOplCallJava"> </a>
					
					<div class="method">
						IloOplCallJava
					</div>
					
					<div class="fixedFont">
					
					<span class="light">{undefined}</span>
					<b>IloOplCallJava</b>(objectRefOrClassname, methodName, methodSignature, paramN)
					
					</div>
					<div class="detailedDescription">
						This function calls a Java method from a scripting block.<p>This method allows you to call Java objects and class methods from script statements and to translate their    parameters and return types back and forth between Java and ILOG Script.</p><p><b>Translation of Input Parameters:</b></p><ul>  <li>Simple script types (Strings, Numbers, Booleans) are translated to their Java counterpart. For numbers,       the exact type is adapted to the Java method signature, and the number converted appropriately.</li>  <li>The ILOG Script null object is converted to Java null.</li>         <li>The ILOG Script undefined object is converted to Java null.</li>         <li>ILOG Script  native arrays (i.e. var v=new Array(), not OPL arrays) are converted to Java Object[] arrays,      with all elements inside converted according to the conversion rules of input parameters. For simple type      arrays, the array type is adapted to the Java method signature (i.e. if the method takes int[],      the Object array is converted to an int[] array). </li>         <li>ILOG Script OPL elements (arrays, sets, tuples, etc.) are converted to the Java API      <code>ilog.opl.IloOplElement</code>. </li>      <li>ILOG Script OPL models are converted to Java API <code>ilog.opl.IloOplModel</code> instances. </li>      <li>Custom Java objects returned from previous calls to Java are given back as the original    object: If you call <code>"var myObject=IloOplCallJava(...,"method1",...); IloOplCallJava(...,"method2",myObject);"</code>,    then <code>method2</code> will receive the Java object as it was returned by <code>method1</code>. </li>      <li>Other ILOG Script objects such as <code>IloObjective</code>, <code>IloOplDataElements</code>, etc. are not handled     and are converted to a Java String containing their Script string representation. </li>      <li>ILOG Script dates are not handled and are converted to a Java String "UNKNOWN". </li>       </ul><p><b>Translation of Output Results:</b></p><ul>  <li>Simple Java types Strings, Numbers, Booleans are translated to their ILOG Script counterpart.</li>  <li>The Java null object is converted to the ILOG Script null object.</li>         <li>Java Object[], int[], double[], boolean[] arrays are converted to ILOG Script arrays,      with elements converted according to the conversion rules of output results.</li>         <li>Java <code>ilog.opl.IloOplDataSource</code> objects are converted to ILOG Script data sources. This allows you to      use them in ILOG Script custom Java data sources.</li>      <li>All other Java objects are returned as a special ILOG Script Java wrapper object that is suitable     to be passed to other Java calls (see "Translation of Input Parameters" above). This     wrapper object also supports a shortcut notation to call directly Java methods on      the underlying object as if they were ILOG Script methods: see "Script Java Wrapper Object" below.</li> </ul><p><b>ILOG Script Java Wrapper Object:</b></p><p>Java objects returned from Java calls are wrapped in a special script object that allows youto 'transport' them to further Java classes (see above). As a convenience, they also supportcalls to their Java methods as if they were ILOG Script methods.</p><p>For example, if you obtain an object using:</p><pre class="ShortCode">   var myObject=IloOplCallJava(...);</pre><p>you can call its methods using either:</p><pre class="ShortCode">   var result=IloOplCallJava(myObject,"myMethod","",...);</pre><p>or with the shorter and more natural:</p><pre class="ShortCode">   var result=myObject.myMethod(...);</pre><p>Note that the former notation does not allow you to specify a signature, so it applies   only to non-overloaded methods (i.e. it does not work when the object has several methods   with the same names but different signatures).</p>
						<!-- 
							<br />
							<i>Defined in: </i> &lt;E:\SF\s80\builds64\workspace\opl_lang-wks.x64_windows_vs2010\opl_lang\src\script\script.js&gt;.
						 -->
						<!--  --> 
					</div>
					
					<!-- C. Chardiny JST12 - proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- C. Chardiny - JSO1 - format parameters output -->
							
							<dd>
								 
								<span class="parameters">objectRefOrClassname</span>
								
								 
								 - a reference to the object on which we want to call an object method,  or the name of a class on which we want to call a static method.
								
							</dd>
							
							<dd>
								 
								<span class="parameters">methodName</span>
								
								 
								 - name of the method to call. Use "&lt;init&gt;" for a constructor.
								
							</dd>
							
							<dd>
								 
								<span class="parameters">methodSignature</span>
								
								 
								 - JNI signature of the method to call (see http://java.sun.com/docs/books/jni/html/fldmeth.html#26046),  or "" to call the first method that has the right name.
								
							</dd>
							
							<dd>
								 
								<span class="parameters">param1..N</span>
								
								 
								 - parameter(s) of the method (optional). They will be translated to the corresponding Java type on call (see above).
								
							</dd>
							
							<dd>
								 
								<span class="parameters">paramN</span>
								
								
							</dd>
							
							</dl>
											
					
					<!-- @note generates notes out of the description -->	
					
					
					<!-- @example generated Examples out of description	the description -->	
					
						<dl class="detailList">
						<dt class="heading">Example:</dt>
										
							<dd>Given a class such as:</dd>
							<dd><pre class="code"> package mypackage; import ilog.opl.*; public class MyClass {   static public myStaticMethod(IloOplModel model,String param1) { ... }    static public MyClass createInstance() { ... }   public MyClass() { ... }   public int performStuff(int param) { ... } }</pre></dd>
										
							<dd>You can call it from a script statement by using:</dd>
							<dd><pre class="code">execute { IloOplImportJava("my_application_classes.jar"); // a simple call to a static method, giving parameters of different types: IloOplCallJava("mypackage.MyClass", // class name                "myStaticMethod", // method name                "", // signature omitted, no ambiguity                thisOplModel,"p2"); // parameters                 // same call with full signature: IloOplCallJava("mypackage.MyClass", // class name                "myStaticMethod", // method name                "(Lilog/opl/IloOplModel;Ljava/lang/String;)V", // signature                thisOplModel,"p2"); // parameters  // a call to a static method returning a Java object instance: var myObject=IloOplCallJava("mypackage.MyClass",                             "createInstance","");                              // calling directly the constructor: var myObject=IloOplCallJava("mypackage.MyClass",                             "&lt;init&gt;","");   // use the returned instance to call an instance method, giving some parameters,  // and that returns a simple int: var result=IloOplCallJava(myObject, // object                         "performStuff", // method                         "", // signature omitted                         13); // parameter                          // the exact same call using direct script call shortcut: var result=myObject.performStuff(13);                           }</pre></dd>
						
						</dl>
					
									
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The return value of the Java, eventually converted to a script type (see above).</dd>
							
							</dl>
						
						
						
						<!-- C. Chardiny - JST5 - undocumented javascript file -->
						<!--  -->
						
						

						<!-- C. Chardiny JST2 - available tag  -->
						
						
					<hr />
				
					<a name="IloOplGetEnv"> </a>
					
					<div class="method">
						IloOplGetEnv
					</div>
					
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>IloOplGetEnv</b>(name)
					
					</div>
					<div class="detailedDescription">
						This function gives access to system environment variables.<p>It calls the Standard C library function <code>getenv()</code> internally.</p><table class="NoteTable" summary="Note table"><tr><td><span class="NoteTitle">Note</span></td></tr><tr><td class="Note"><a name="261983" />Do not confuse this function with the IBM ILOG Concert class <code>IloEnv</code>,which creates environment instances that manage memory and identifiers for modeling objects.</td></tr></table>
						<!-- 
							<br />
							<i>Defined in: </i> &lt;E:\SF\s80\builds64\workspace\opl_lang-wks.x64_windows_vs2010\opl_lang\src\script\script.js&gt;.
						 -->
						<!--  --> 
					</div>
					
					<!-- C. Chardiny JST12 - proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- C. Chardiny - JSO1 - format parameters output -->
							
							<dd>
								 
								<span class="parameters">name</span>
								
								 
								 - The name of the environment variable.
								
							</dd>
							
							</dl>
											
					
					<!-- @note generates notes out of the description -->	
					
					
					<!-- @example generated Examples out of description	the description -->	
					
						<dl class="detailList">
						<dt class="heading">Example:</dt>
										
							<dd></dd>
							<dd><pre class="code">execute {  writeln(" doesnotexist = ",IloOplGetEnv("doesnotexist"));  writeln(" PATH = ",IloOplGetEnv("PATH"));}</pre></dd>
						
						</dl>
					
									
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The value of the environment variable, or <code>undefined</code>.</dd>
							
							</dl>
						
						
						
						<!-- C. Chardiny - JST5 - undocumented javascript file -->
						<!--  -->
						
						

						<!-- C. Chardiny JST2 - available tag  -->
						
						
					<hr />
				
					<a name="IloOplImportJava"> </a>
					
					<div class="method">
						IloOplImportJava
					</div>
					
					<div class="fixedFont">
					
					<span class="light">{void}</span>
					<b>IloOplImportJava</b>(path)
					
					</div>
					<div class="detailedDescription">
						This function makes some Java classes available in scripting blocks.<p>It expands the search path for the next calls to <code>IloOplCallJava</code>. </p><p>This method uses the resolver path (see <code>IloOplSettings</code>) to resolve the given path. Relative paths or JAR file names are searched relative to the model file directory as well as in other directories of the search path.</p><p>It is not necessary that the added path exists and its existence is not checked, as with   any Java classpath.    This allows you to add, for example, both the debug/release version of some classes in the path,   and still work, whatever the version actually installed. </p><p>If your classes are not properly defined in the path you give, a    script error is raised (<code>ClassNotFoundException</code> exception) during the call to <code>IloOplCallJava</code>. </p> <p>The first call to this function initializes the Java call support in ILOG Script.  To do so, the implementation needs a Java Virtual Machine. If you are already running a Java Virtual Machine (as is the case in an OPL Java application     or in an ODM application), that JVM is used. Otherwise, a new Java Virtual Machine is created. It looks     for a Java Runtime Environment by using, in this order:</p> <ul>  <li>The Java Runtime Environment specified during ODM installation, if ODM has been installed</li>  <li>The Java Runtime Environment specified using the JAVA_HOME environment variable.</li>         <li>The Java Runtime Environment found in the Windows registry (Windows-specific).</li>         <li>The Java Runtime Environment found in the execution path.</li>         <li>The Java Runtime Environment installed as part of the ODM installation, if ODM has been installed</li>        </ul> <p> <b>Note: </b>If the environment variable JAVA_HOME is not set, the <code>IloOplImportJava</code> function will not work.</p> <p>When a new Java Virtual Machine is created, its classpath is initially set with the OPL JAR files  from the OPL installation. It also includes the ODM JAR files from the ODM installation if ODM has been installed. This allows the custom Java code to use the OPL and ODM Java APIs.</p> <p>The OPL installation is found by using:</p> <ul>  <li>The position of the current executable (IDE or oplrun)</li></ul><p>The ODM installation is found by using:</p> <ul>  <li>The Windows registry</li></ul> <p>Calling external functions is not possible if the application is statically linked with the 	 OPL libraries (like oplrunsample). This is because the Java OPL library uses the	  shared library version of OPL (<code>oplxx.dll/.so</code>) which cannot be mixed with the static	  version. You can use an external call to Java in the OPL IDE, in oplrun, and in custom OPL or	  ODM applications launched from Java.</p>
						<!-- 
							<br />
							<i>Defined in: </i> &lt;E:\SF\s80\builds64\workspace\opl_lang-wks.x64_windows_vs2010\opl_lang\src\script\script.js&gt;.
						 -->
						<!--  --> 
					</div>
					
					<!-- C. Chardiny JST12 - proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- C. Chardiny - JSO1 - format parameters output -->
							
							<dd>
								 
								<span class="parameters">path</span>
								
								 
								 - The path to a directory or Java archive file (.jar) that contains classes to access.
								
							</dd>
							
							</dl>
											
					
					<!-- @note generates notes out of the description -->	
					
					
					<!-- @example generated Examples out of description	the description -->	
					
						<dl class="detailList">
						<dt class="heading">Example:</dt>
										
							<dd></dd>
							<dd><pre class="code">execute {  IloOplImportJava("./classes");   IloOplImportJava("C:/myjars/my_global_classes.jar");  IloOplImportJava("my_application_classes.jar");  IloOplCallJava("MyClass","performStuff","");}</pre></dd>
						
						</dl>
					
									
						
						
						
						
						
						
						<!-- C. Chardiny - JST5 - undocumented javascript file -->
						<!--  -->
						
						

						<!-- C. Chardiny JST2 - available tag  -->
						
						
					<hr />
				
					<a name="includeScript"> </a>
					
					<div class="method">
						includeScript
					</div>
					
					<div class="fixedFont">
					
					
					<b>includeScript</b>(path)
					
					</div>
					<div class="detailedDescription">
						This function loads the script file passed as parameter. <p>The path can be either absolute or relative.</p> <p>If this path does not designate an existing file, the file is searched for using a method that depends on the application in which the script is embedded. Typically, the name of the script fileis searched for in a list of directories specified in the application setup.</p><p>The effect of this function is the same as for <code>loadFile</code>. In OPL, youhave to use <code>includeScript</code>, as the function <code>loadFile</code> does not recognize OPL objects, such as <code>thisOplModel</code>.</p><p> </p><p><b>Limitation</b></p><p>Flow control instructions and global functions cannot be called from an external JavaScript file.</p><p>This limitation affects the following JavaScript classes:</p><p><code>IloOplCplexBasis,  IloOplCplexVectors, IloOplDataElements, IloOplDataSource, IloOplModelDefinition, IloOplModelSource</code></p><p>and JavaScript global functions:</p><p><code>IloOplCallJava, IloOplGetEnv, IloOplImportJava</code></p><p>Example showing the limitation:</p><p>Consider a function, such as <code>myFunction</code> below, in an external JavaScript file called <code>a.js</code>.</p><pre class="ShortCode">functionmyFunction(modName, masterOpl) { 	 var subSource = new IloOplModelSource(modName);  	 var subDef = new IloOplModelDefinition(subSource); 	 var subCplex = new IloCplex();  	 [...] } </pre>This example contains the limitation, as the file <code>a.js</code> is called from a main execution block.<pre class="ShortCode"> main {  [...]  includeScript( "a.js" );  var res = myFunction("cutstock-sub.mod", masterOpl);   [...] } </pre>A workaround for this limitation is:<pre class="ShortCode">a.js: functionmyFunction(Classes, modName, masterOpl) { var subSource = new Classes[0](modName); var subDef = new Classes[1](subSource); var subCplex = new Classes[2](); var subOpl = new Classes[3](subDef,subCplex); var subData = new Classes[4](); [...] } </pre>and in the main model:<pre class="ShortCode">main { 	[...] 	// Missing classes.... 	var classes = new Array( IloOplModelSource, IloOplModelDefinition, IloCplex, IloOplModel, IloOplDataElements); 	includeScript( "a.js" );    	[...]     	var res = myFunction(classes,"cutstock-sub.mod", masterOpl); 	[...]     } </pre>
						<!-- 
							<br />
							<i>Defined in: </i> &lt;E:\SF\s80\builds64\workspace\opl_lang-wks.x64_windows_vs2010\opl_lang\src\script\script.js&gt;.
						 -->
						<!--  --> 
					</div>
					
					<!-- C. Chardiny JST12 - proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- C. Chardiny - JSO1 - format parameters output -->
							
							<dd>
								 
								<span class="parameters">path</span>
								
								 
								 - The path of the file to be loaded.
								
							</dd>
							
							</dl>
											
					
					<!-- @note generates notes out of the description -->	
					
					
					<!-- @example generated Examples out of description	the description -->	
					
						<dl class="detailList">
						<dt class="heading">Example:</dt>
										
							<dd></dd>
							<dd><pre class="code">execute {  includeScript("../kpiFile.js");}</pre></dd>
						
						</dl>
					
									
						
						
						
						
						
						
						<!-- C. Chardiny - JST5 - undocumented javascript file -->
						<!--  -->
						
						

						<!-- C. Chardiny JST2 - available tag  -->
						
						
					<hr />
				
					<a name="Infinity"> </a>
					
					<div class="method">
						Infinity
					</div>
					
					<div class="fixedFont">
					
					
					<b>Infinity</b>()
					
					</div>
					<div class="detailedDescription">
						
						<!-- 
							<br />
							<i>Defined in: </i> &lt;E:\SF\s80\builds64\workspace\opl_lang-wks.x64_windows_vs2010\opl_lang\src\script\script.js&gt;.
						 -->
						<!--  --> 
					</div>
					
					<!-- C. Chardiny JST12 - proofread tag  -->
					
					
										
					
					<!-- @note generates notes out of the description -->	
					
					
					<!-- @example generated Examples out of description	the description -->	
					
									
						
						
						
						
						
						
						<!-- C. Chardiny - JST5 - undocumented javascript file -->
						<!--  -->
						
						

						<!-- C. Chardiny JST2 - available tag  -->
						
						
					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
		
		<!-- ============================== footer ================================= -->	
		<hr />	
		<div class="fineprint" style="clear:both">
			&copy;Copyright IBM Corp. 1987-2011.
		</div>
	</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en"><head><link type="text/css"
            rel="stylesheet"
            href="../cppdoc.css" />
<title>ILOCPGOALWRAPPER0</title>
</head><body><div
                class="ibm-access"><a href="#ibm-content"><img
                    class="ibm-access" src="../whitepixel.png"
            alt="Skip to main content" /></a></div><table
            class="navigation-bar" border="0" cellpadding="0"
                        cellspacing="3"><tr><td><a
                        class="navigation-item"
                        href="../overview.html">Overview</a></td><td><a
                        class="navigation-item"
                        href="../optim.cpoptimizer.extensions/group.html">Group</a></td><td><a
                        class="navigation-item"
                        href="../tree.html">Tree</a></td><td><a
                        class="navigation-item"
                        href="../graph.html">Graph</a></td><td><a
                        class="navigation-item"
                        href="../deprecated.html">Deprecated</a></td><td><a
                        class="navigation-item"
                        href="../index/index.html">Index</a></td><td><a
                        class="navigation-item"
            href="../concepts.html">Concepts</a></td></tr></table><div
                align="right"><a href="../index.html"
                target="_top">FRAMES</a> <a
                href="../macros/ILOCPGOALWRAPPER0.html"
            target="_top">NO FRAMES</a></div><hr /><a
            name="ibm-content"></a><h1>Macro ILOCPGOALWRAPPER0</h1><div
                class="definition-file"><strong>Definition file: </strong><span
            class="definition-file">ilcp/cpext.h</span></div><div
            class="prototype">ILOCPGOALWRAPPER0(_this, cp)</div><div
            class="prototype">ILOCPGOALWRAPPER1(_this, cp, t1, a1)</div><div
            class="prototype">ILOCPGOALWRAPPER2(_this, cp, t1, a1, t2, a2)</div><div
            class="prototype">ILOCPGOALWRAPPER3(_this, cp, t1, a1, t2, a2, t3, a3)</div><div
            class="prototype">ILOCPGOALWRAPPER4(_this, cp, t1, a1, t2, a2, t3, a3, t4, a4)</div><div
            class="prototype">ILOCPGOALWRAPPER5(_this, cp, t1, a1, t2, a2, t3, a3, t4, a4, t5, a5)</div>
Macro for wrapping a new goal class.
      <div
                class="description"><p>This macro defines a goal class named <code>_thisI</code> with <em>n</em>
 data members. When <em>n</em> is greater than zero, the types and names of
 the data members must be supplied as arguments to the macro. Each data
 member is defined by its type <code>t</code><em>i</em> and a name
 <code>a</code><em>i</em>.</p><p>You can use the macro <code>ILOCPGOALWRAPPER</code> to wrap an existing
 instance of <code>IlcGoal</code> when you want to use it within IBM&reg; ILOG&reg; Concert
 Technology model objects. In order to use an instance of
 <code>IlcGoal</code> in that way, you need to follow these steps:</p><ol>
<li>Use the macro to wrap the instance of <code>
 IlcGoal</code> in an instance of <code>
 IloGoal</code>.</li><li>Use the <code>
 IloGoal</code> generated by <code>
 IloCP::solve</code> and <code>
 IloCP:startNewSearch</code>.</li>
</ol><p><strong>Example</strong></p><p>Here's how to define a goal wrapper with one data member:</p><pre
                class="sample">
 ILOCPGOALWRAPPER1(MyGenerate, cp, IloIntVarArray, vars) {
   return IlcGenerate(cp.getIntVarArray(vars), IlcChooseMinSizeMin);
 }</pre><p>That macro generates code similar to the following lines:</p><pre
                class="sample">
 class MyGenerateConcertI : public IloGoalI {
   IloIntVarArray vars ;
 public:
   MyGenerateConcertI (IloEnvI*, IloIntVarArray );
   ~MyGenerateConcertI ();
   virtual IlcGoal extract(const IloCP) const;
 };

 MyGenerateConcertI::MyGenerateConcertI(IloEnvI* env,
                                     IloIntVarArray varsvars) :
   IloGoalI(env), vars (varsvars) {}

 MyGenerateConcertI::~MyGenerateConcertI () {}

 IloGoal MyGenerate (IloEnv env, IloIntVarArray varsvars) {
   return new (env) MyGenerateConcertI (env.getImpl(), varsvars);
 }

 IlcGoal MyGenerateConcertI::extract(const IloCP cp) const {
   return IlcGenerate(cp.getIntVarArray(vars), IlcChooseMinSizeMin);
 }</pre><p>The extraction of a goal does not extract and must not extract its
 arguments. Therefore, when using a goal you must make sure that the
 arguments will be extracted by the model. A good way to ensure this is to
 add the arguments to the models.</p><p>This is illustrated by the following example:</p><pre
            class="sample">
 IloEnv env;
 IloModel model(env);
 IloIntVarArray x(env, 3, 0, 10);
 model.add(x); // This is mandatory otherwise the variables will not be extracted
 IloCP cp(model);
 cp.solve(MyGenerate(env, x));
 env.end();</pre></div><p
            class="see-also-title">See Also:</p><p
                class="see-also-links"><a href="../classes/IloCP.html">IloCP</a></p></body>
</html>

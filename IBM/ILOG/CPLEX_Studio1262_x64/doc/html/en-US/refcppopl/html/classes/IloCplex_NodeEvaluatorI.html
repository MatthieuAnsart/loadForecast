<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en"><head><link type="text/css"
            rel="stylesheet"
            href="../cppdoc.css" />
<title>NodeEvaluatorI</title>
</head><body><div
                class="ibm-access"><a href="#ibm-content"><img
                    class="ibm-access" src="../whitepixel.png"
            alt="Skip to main content" /></a></div><table
            class="navigation-bar" border="0" cellpadding="0"
                        cellspacing="3"><tr><td><a
                        class="navigation-item"
                        href="../overview.html">Overview</a></td><td><a
                        class="navigation-item"
                        href="../optim.cplex.cpp/group.html">Group</a></td><td><a
                        class="navigation-item"
                        href="../tree.html">Tree</a></td><td><a
                        class="navigation-item"
                        href="../graph.html">Graph</a></td><td><a
                        class="navigation-item"
                        href="../deprecated.html">Deprecated</a></td><td><a
                        class="navigation-item"
                        href="../index/index.html">Index</a></td><td><a
                        class="navigation-item"
            href="../concepts.html">Concepts</a></td></tr></table><div
                align="right"><a href="../index.html"
                target="_top">FRAMES</a> <a
                href="../classes/IloCplex_NodeEvaluatorI.html"
            target="_top">NO FRAMES</a></div><hr /><a
            name="ibm-content"></a><h1>Class IloCplex::NodeEvaluatorI</h1><div
                class="definition-file"><strong>Definition file: </strong><span
                class="definition-file">ilcplex/ilocplexi.h</span></div><div><img
                src="IloCplex_NodeEvaluatorI.png" border="0"
                usemap="#svg_map_IloCplex::NodeEvaluatorI"
                    alt="Map of IloCplex::NodeEvaluatorI"><map
                        name="svg_map_IloCplex::NodeEvaluatorI"><area
                        href="../classes/IloCplex_NodeEvaluatorI.html"
                        shape="rect" alt="IloCplex::NodeEvaluatorI"
                        coords="10.0,37.6357421875,135.0,55.271484375" /><area
                        href="../classes/IloCplex_NodeEvaluatorI.html"
                        shape="rect" alt="IloCplex::NodeEvaluatorI"
            coords="10.0,37.6357421875,135.0,55.271484375" /></map></img></div><div
            class="description"><p><code>IloCplex::NodeEvaluatorI</code> is the base class for implementing
 node evaluators. Node evaluators allow you to control the node selection
 strategy for a subtree by assigning values to the nodes. By default,
 <code>IloCplex</code> selects the node with the lowest value when choosing
 the next node to process during branch-and-cut search. This behavior can
 be altered by overwriting method <code>subsume</code>.</p><p>To implement your own node evaluator, you need to create a subclass of
 <code>IloCplex::NodeEvaluatorI</code> and implement methods
 <code>evaluate</code> and <code>duplicateEvaluator</code>. The method
 <code>evaluate</code> must be implemented to compute and return a value
 for a given node. The protected methods of class
 <code>IloCplex::NodeEvaluatorI</code> can be called to query information
 about the node in order to compute this value. Each node is evaluated only
 once, after which the value is attached to the node until the node is
 processed or pruned.</p><p>The <code>duplicateEvaluator</code> method is called by
 <code>IloCplex</code> when a copy of the evaluator must be created for use
 in parallel branch-and-cut search. Thus the implementation must simply
 create and return a copy of the evaluator itself&mdash;calling the copy
 constructor will work in most circumstances.</p><p>Node evaluators are applied to a search defined by a goal with the method
 <code>IloCplex::Apply</code>. The node selection strategy will be
 applied only to the subtree defined by the goal passed to
 <code>Apply</code>.
 Using <code>IloCplex::Apply</code>, you can assign different
 node selection strategies to different subtrees. You can also assign
 multiple node selection strategies to subtrees. In this case, node selection
 strategies applied first have precedence over those assigned later.</p><p>If no node evaluators are added, <code>IloCplex</code> uses the node
 selection strategy as controlled by the <code>NodeSel</code> parameter.</p></div><p
            class="see-also-title">See Also:</p><p
                class="see-also-links"><a
                href="../classes/IloCplex.html">IloCplex</a>, <a
            href="../classes/IloCplex_NodeEvaluator.html">IloCplex::NodeEvaluator</a></p><table
            class="summary" border="1" cellpadding="3" cellspacing="0"
                    width="100%"><tr><th
                    colspan="2">Method Summary</th></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                    class="prototype">public virtual NodeEvaluatorI *</code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_duplicateEvaluator">duplicateEvaluator</a>()</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">public virtual <a
                    href="../typedefs/IloNum.html">IloNum</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_evaluate">evaluate</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../classes/IloNumVar.html">IloNumVar</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getBranchVar">getBranchVar</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../typedefs/IloInt.html">IloInt</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getDepth">getDepth</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../typedefs/IloNum.html">IloNum</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getEstimatedObjValue">getEstimatedObjValue</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../typedefs/IloNum.html">IloNum</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getInfeasibilitySum">getInfeasibilitySum</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../typedefs/IloInt.html">IloInt</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getNinfeasibilities">getNinfeasibilities</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">protected <a
                    href="../typedefs/IloNum.html">IloNum</a></code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_getObjValue">getObjValue</a>() const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                    class="prototype">public virtual void</code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_init">init</a>()</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                    class="prototype">public </code></td><td
                            width="100%"><code><a
                    href="../classes/IloCplex_NodeEvaluatorI.html#method_NodeEvaluatorI">NodeEvaluatorI</a>()</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                            class="prototype">public virtual <a
                    href="../typedefs/IloBool.html">IloBool</a></code></td><td
                            width="100%"><code><a
                            href="../classes/IloCplex_NodeEvaluatorI.html#method_subsume">subsume</a>(<a
                            href="../typedefs/IloNum.html">IloNum</a> evalBest, <a
                    href="../typedefs/IloNum.html">IloNum</a> evalCurrent) const</code></td></tr><tr><td
                    valign="top" align="right" nowrap=""><code
                    class="prototype">public </code></td><td
                            width="100%"><code><a
            href="../classes/IloCplex_NodeEvaluatorI.html#method_~NodeEvaluatorI">~NodeEvaluatorI</a>()</code></td></tr></table><table
            border="1" cellspacing="0" width="100%"><tr><th
                colspan="0">Method Detail</th></tr></table><h3><a
            name="method_NodeEvaluatorI">NodeEvaluatorI</a></h3><div
                class="prototype">public  <span
            class="function-name">NodeEvaluatorI</span>()</div><div
                class="description"><p>This constructor creates a node selector for use in an application
 with a user-defined node selection strategy to solve a MIP.</p></div><hr /><h3><a
            name="method_~NodeEvaluatorI">~NodeEvaluatorI</a></h3><div
                class="prototype">public  <span
            class="function-name">~NodeEvaluatorI</span>()</div><div
                class="description"><p>The virtual destructor allows you to manage
 your own data inside a node evaluator and delete
 it when the evaluator is deleted.
 </p></div><hr /><h3><a
            name="method_duplicateEvaluator">duplicateEvaluator</a></h3><div
                class="prototype">public virtual NodeEvaluatorI * <span
            class="function-name">duplicateEvaluator</span>()</div><div
                class="description"><p>This method must be implemented by the user to return a copy of
 the invoking object. It is called internally 
 to duplicate the current node
 evaluator for parallel branch-and-cut search. This method is not called
 for a particular node, so the <code>get</code> 
 methods cannot be used.</p></div><hr /><h3><a
            name="method_evaluate">evaluate</a></h3><div
                class="prototype">public virtual <a
                href="../typedefs/IloNum.html">IloNum</a> <span
            class="function-name">evaluate</span>() const</div><div
                class="description"><p>This method must be implemented by the user to return a value
 for a given node.  When this method is called, the node evaluator is
 initialized to the node for which to compute the value.  Information
 about this node can be obtained by the <code>get</code> methods of
 <code>IloCplex::NodeEvaluatorI</code>. Returning <code>IloInfinity</code>
 instructs <code>IloCplex</code> to discard the node being evaluated.</p></div><hr /><h3><a
            name="method_getBranchVar">getBranchVar</a></h3><div
                class="prototype">protected <a
                href="../classes/IloNumVar.html">IloNumVar</a> <span
            class="function-name">getBranchVar</span>() const</div><div
                class="description"><p>This method returns the variable that <code>IloCplex</code>
 branched on when creating the node being evaluated from its parent.
 If the node has been generated with a more complex branch, 0 (zero) 
 will be
 returned instead.  This method can be called only from the methods
 <code>init</code> and <code>evaluate</code>. </p></div><hr /><h3><a
            name="method_getDepth">getDepth</a></h3><div
                class="prototype">protected <a
                href="../typedefs/IloInt.html">IloInt</a> <span
            class="function-name">getDepth</span>() const</div><div
                class="description"><p>This method returns the depth in the search tree of the node
 currently being evaluated. The root node is depth 0 (zero); the depth
 of the current node is its distance from the root, or equivalently, the
 number of branches taken to get from the root node to the current node.
 This method can be called only from the methods
 <code>init</code> and <code>evaluate</code>.</p></div><hr /><h3><a
            name="method_getEstimatedObjValue">getEstimatedObjValue</a></h3><div
                class="prototype">protected <a
                href="../typedefs/IloNum.html">IloNum</a> <span
            class="function-name">getEstimatedObjValue</span>() const</div><div
                class="description"><p>This method returns the estimated objective value for the node
 being evaluated. It can be called only from the methods
 <code>init</code> and <code>evaluate</code>.</p></div><hr /><h3><a
            name="method_getInfeasibilitySum">getInfeasibilitySum</a></h3><div
                class="prototype">protected <a
                href="../typedefs/IloNum.html">IloNum</a> <span
            class="function-name">getInfeasibilitySum</span>() const</div><div
                class="description"><p>This method returns the sum of infeasibility measures at the
 node being evaluated. It can be called only from the methods 
 <code>init</code> and <code>evaluate</code>.</p></div><hr /><h3><a
            name="method_getNinfeasibilities">getNinfeasibilities</a></h3><div
                class="prototype">protected <a
                href="../typedefs/IloInt.html">IloInt</a> <span
            class="function-name">getNinfeasibilities</span>() const</div><div
                class="description"><p>This method returns the number of infeasibilities at the node
 being evaluated. It can be called only from the methods <code>init</code>
 and <code>evaluate</code>.</p></div><hr /><h3><a
            name="method_getObjValue">getObjValue</a></h3><div
                class="prototype">protected <a
                href="../typedefs/IloNum.html">IloNum</a> <span
            class="function-name">getObjValue</span>() const</div><div
                        class="description"><p>This method returns the objective value of the node being
 evaluated. It can be called only from the methods <code>init</code> and
 <code>evaluate</code>.</p><p>If you need the object representing the objective itself, 
 consider the method 
 <code><a
                href="../classes/IloCplex.html#method_getObjective">IloCplex::getObjective</a></code> instead. </p></div><hr /><h3><a
            name="method_init">init</a></h3><div
                class="prototype">public virtual void <span
            class="function-name">init</span>()</div><div
                class="description"><p>This method is called by <code>IloCplex</code> immediately
 before the first time <code>evaluate</code> is called for a node,
 allowing you to initialize the evaluator based on that node.
 Information about the current node can be queried by calling the
 <code>get</code> methods of <code>IloCplex::NodeEvaluatorI</code>.</p></div><hr /><h3><a
            name="method_subsume">subsume</a></h3><div
                class="prototype">public virtual <a
                href="../typedefs/IloBool.html">IloBool</a> <span
                class="function-name">subsume</span>(<a
                href="../typedefs/IloNum.html">IloNum</a> <span
                class="parameter-name">evalBest</span>, <a
                href="../typedefs/IloNum.html">IloNum</a> <span
            class="parameter-name">evalCurrent</span>) const</div><div class="description"><p><code>IloCplex</code> maintains a candidate node for selection as the
 next node to process. When choosing the next node, it compares the
 candidate to all other nodes. If a given node and the candidate node
 are governed by the same evaluator, <code>IloCplex</code> calls
 <code>subsume</code> to determine whether the node should become the new
 candidate. The arguments passed to the <code>subsume</code> call are:</p><ul>
<li>the value previously assigned by the method <code>evaluate</code>
 to the candidate node as parameter <code>evalBest</code>, and</li><li>the value previously assigned by the method <code>evaluate</code>
 to the node under investigation as parameter <code>evalCurrent</code>.
 </li>
</ul><p>By default, this method returns <code>IloTrue</code> if
 <code>evalCurrent</code><code>&gt;</code><code>evalBest</code>.
 Overwriting this method allows you to change this selection scheme.</p></div><hr /></body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="reference" />
<meta name="DC.Title" content="CPXXfeasopt and CPXfeasopt" />
<meta name="abstract" content="The routine CPXXfeasopt/CPXfeasopt computes a minimum-cost relaxation of the righthand side values of constraints or bounds on variables in order to make an infeasible problem feasible." />
<meta name="Description" content="The routine CPXXfeasopt/CPXfeasopt computes a minimum-cost relaxation of the righthand side values of constraints or bounds on variables in order to make an infeasible problem feasible." />
<meta name="DC.subject" content="CPXfeasopt, C API Reference Manual, CPXXfeasopt" />
<meta name="keywords" content="CPXfeasopt, C API Reference Manual, CPXXfeasopt" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageanalyzesolution.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageoptimizers.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepagecallable.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/cpxapi/hpRefineConflict.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="feasopt" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../.././swg_info_common_opti.css" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageanalyzesolution.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageoptimizers.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepagecallable.html" />
<link rel="Start" href="../../refcallablelibrary/cpxapi/hpRefineConflict.html" />
<title>CPXXfeasopt and CPXfeasopt</title>
</head>
<body role="main" id="feasopt">
<h1 class="title topictitle1"><span class="keyword apiname">CPXXfeasopt</span> and <span class="keyword apiname">CPXfeasopt</span></h1>
<div class="body refbody"><p class="shortdesc">     


The routine <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> computes
a minimum-cost relaxation of the righthand side
values of constraints or bounds on variables in order
to make an infeasible problem feasible.
  </p>
<div class="section refsyn">      <p class="p"><span class="ph synph">        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXXfeasopt</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXLPptr</span><span class="ph sep"> </span><span class="ph var">lp</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">rhs</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">rng</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">lb</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">ub</span>        <span class="ph delim">)</span>
      </span></p>

      <p class="p"><span class="ph synph">        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXfeasopt</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXLPptr</span><span class="ph sep"> </span><span class="ph var">lp</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">rhs</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">rng</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">lb</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">ub</span>        <span class="ph delim">)</span>
      </span></p>

    </div>
<div class="section"><h2 class="title sectiontitle">Description</h2>    
 


<p class="p">The routine <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> computes
a minimum-cost relaxation of the righthand side
values of constraints or bounds on variables in order
to make an infeasible problem feasible.
The routine also computes a relaxed solution vector
that can be queried with <samp class="ph codeph"><a class="xref" href="solution.html" title="The routine CPXXsolution/CPXsolution accesses the solution values produced by all the optimization routines except the routine CPXXNETprimopt/CPXNETprimopt."><span class="keyword apiname">CPXXsolution</span>/<span class="keyword apiname">CPXsolution</span></a></samp>,
<samp class="ph codeph"><a class="xref" href="getcolinfeas.html" title="The routine CPXXgetcolinfeas/CPXgetcolinfeas computes the infeasibility of a given solution for a range of variables."><span class="keyword apiname">CPXXgetcolinfeas</span>/<span class="keyword apiname">CPXgetcolinfeas</span></a></samp> for columns,
<samp class="ph codeph"><a class="xref" href="getrowinfeas.html" title="The routine CPXXgetrowinfeas/CPXgetrowinfeas computes the infeasibility of a given solution for a range of linear constraints."><span class="keyword apiname">CPXXgetrowinfeas</span>/<span class="keyword apiname">CPXgetrowinfeas</span></a></samp> for rows,
<samp class="ph codeph"><a class="xref" href="../mipapi/getsosinfeas.html" title="The routine CPXXgetsosinfeas/CPXgetsosinfeas computes the infeasibility of a given solution for a range of special ordered sets (SOSs)."><span class="keyword apiname">CPXXgetsosinfeas</span>/<span class="keyword apiname">CPXgetsosinfeas</span></a></samp> for special ordered sets.</p>

<p class="p">If <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> finds a feasible solution,
it returns the solution and the corresponding objective
in terms of the original model.</p>

<p class="p">This routine supports several options for the metric used to
determine what constitutes a minimum-cost relaxation. These options are
controlled by the parameter <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_FEASOPTMODE</span></samp> which
can take the following values:</p>

<ul class="ul"><li class="li">CPX_FEASOPT_MIN_SUM 0 </li>
<li class="li">CPX_FEASOPT_OPT_SUM 1 </li>
<li class="li">CPX_FEASOPT_MIN_INF 2 </li>
<li class="li">CPX_FEASOPT_OPT_INF 3 </li>
<li class="li">CPX_FEASOPT_MIN_QUAD 4 </li>
<li class="li">CPX_FEASOPT_OPT_QUAD 5 </li>
</ul>

<ul class="ul"><li class="li">It can minimize the weighted sum of the penalties for relaxations
(denoted by <samp class="ph codeph"><span class="keyword apiname">SUM</span></samp>).</li>
<li class="li">It can minimize the weighted number of relaxed bounds and constraints
(denoted by <samp class="ph codeph"><span class="keyword apiname">INF</span></samp>). </li>
<li class="li">It can minimize the weighted sum of the squared penalties of the relaxations
(denoted by <samp class="ph codeph"><span class="keyword apiname">QUAD</span></samp>). </li>
</ul>

<p class="p">This routine can also optionally perform a secondary optimizaton
(denoted by <samp class="ph codeph"><span class="keyword apiname">OPT</span></samp> in the name of the option),
where it optimizes the original objective function over
all possible relaxations for which the relaxation metric does not exceed the
amount computed in the first phase.
These options are controlled by the parameter
<samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_FEASOPTMODE</span></samp>.
Thus, for example, the value <samp class="ph codeph"><span class="keyword apiname">CPX_FEASOPT_MIN_SUM</span></samp>
denotes that
<samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> should find a relaxation that minimizes the
weighted sum of relaxations. Similarly, the value
<samp class="ph codeph"><span class="keyword apiname">CPX_FEASOPT_OPT_INF</span></samp>
specifies that <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> should find a solution that
optimizes the original objective function, choosing from among all possible
relaxations that minimize the number of relaxed constraints and bounds.</p>

<p class="p">If you use INF mode, the resulting feasopt problems
will be MIPs even if
your problem is continuous. Similarly, if you use QUAD mode, the feasopt
problems will become quadratic even if your original problem is linear. This
change in problem type can result in higher than expected solve times.</p>

<p class="p">The user can specify preferences associated with relaxing a bound
or righthand side value through input values of the
<samp class="ph codeph"><span class="keyword apiname">rhs</span></samp>, <samp class="ph codeph"><span class="keyword apiname">rng</span></samp>, <samp class="ph codeph"><span class="keyword apiname">lb</span></samp>, and
<samp class="ph codeph"><span class="keyword apiname">ub</span></samp> arguments. The input value denotes the
user's willingness to relax a constraint or bound. More precisely,
the reciprocal of the specified preference is used to weight the
relaxation of that constraint or bound. For example, consider a preference
of <samp class="ph codeph"><span class="keyword apiname">p</span></samp> on a constraint that is relaxed by 2 units.
The penalty of this relaxation will be 1/p when minimizing
the weighted number
of infeasibilities; the penalty will be 2/p when minimizing the weighted sum
of infeasibilities; and the penalty will be 4/p when minimizing the
weighted sum of the squares of the infeasibilities.
The user may specify a preference less than or equal to 0 (zero),
which denotes that the corresponding constraint or bound must not be
relaxed.</p>

<p class="p">To determine whether <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> found relaxed values
to make the problem feasible, call the routine
<samp class="ph codeph"><a class="xref" href="solninfo.html"><span class="keyword apiname">CPXXsolninfo</span>/<span class="keyword apiname">CPXsolninfo</span></a></samp>
for continuous problems or
<samp class="ph codeph"><a class="xref" href="getstat.html" title="The routine CPXXgetstat/CPXgetstat accesses the solution status of the problem after an LP, QP, QCP, or MIP optimization, after CPXXfeasopt/CPXfeasopt and its extensions, after CPXXrefineconflict/CPXrefineconflict and its extensions."><span class="keyword apiname">CPXXgetstat</span>/<span class="keyword apiname">CPXgetstat</span></a></samp> for any problem type.
<samp class="ph codeph"><span class="keyword apiname">CPXXsolninfo</span>/<span class="keyword apiname">CPXsolninfo</span></samp> will return a value of <samp class="ph codeph"><span class="keyword apiname">CPX_NO_SOLN</span></samp>
for the argument <samp class="ph codeph"><span class="keyword apiname">solntype_p</span></samp> if <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp>
could not find a feasible relaxation.
Otherwise, it will return one of the following, depending on the
value of <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_FEASOPTMODE</span></samp>:</p>

<ul class="ul"><li class="li">CPX_STAT_FEASIBLE_RELAXED_SUM </li>
<li class="li">CPX_STAT_OPTIMAL_RELAXED_SUM </li>
<li class="li">CPX_STAT_FEASIBLE_RELAXED_INF </li>
<li class="li">CPX_STAT_OPTIMAL_RELAXED_INF </li>
<li class="li">CPX_STAT_FEASIBLE_RELAXED_QUAD </li>
<li class="li">CPX_STAT_OPTIMAL_RELAXED_QUAD </li>
</ul>

<p class="p">For a MIP problem, the routine
<samp class="ph codeph"><a class="xref" href="getstat.html" title="The routine CPXXgetstat/CPXgetstat accesses the solution status of the problem after an LP, QP, QCP, or MIP optimization, after CPXXfeasopt/CPXfeasopt and its extensions, after CPXXrefineconflict/CPXrefineconflict and its extensions."><span class="keyword apiname">CPXXgetstat</span>/<span class="keyword apiname">CPXgetstat</span></a></samp> will return a
value of <samp class="ph codeph"><span class="keyword apiname">CPXMIP_INFEASIBLE</span></samp> or
<samp class="ph codeph"><span class="keyword apiname">CPX_STAT_INFEASIBLE</span></samp>
if it could not find
a feasible relaxation. Otherwise, it will return one of the following,
depending on the value of <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_FEASOPTMODE</span></samp>:</p>

<ul class="ul"><li class="li">CPXMIP_FEASIBLE_RELAXED_SUM </li>
<li class="li">CPXMIP_OPTIMAL_RELAXED_SUM </li>
<li class="li">CPXMIP_FEASIBLE_RELAXED_INF </li>
<li class="li">CPXMIP_OPTIMAL_RELAXED_INF </li>
<li class="li">CPXMIP_FEASIBLE_RELAXED_QUAD </li>
<li class="li">CPXMIP_OPTIMAL_RELAXED_QUAD </li>
</ul>

<p class="p">The routine <samp class="ph codeph"><span class="keyword apiname">CPXXfeasopt</span>/<span class="keyword apiname">CPXfeasopt</span></samp> accepts all problem types. However,
it does not allow you to relax convex quadratic constraints nor
indicator constraints; use the routine
<samp class="ph codeph"><a class="xref" href="feasoptext.html" title="The routine CPXXfeasoptext/CPXfeasoptext extends CPXXfeasopt/CPXfeasopt in several ways."><span class="keyword apiname">CPXXfeasoptext</span>/<span class="keyword apiname">CPXfeasoptext</span></a></samp> for that purpose.</p>

<p class="p">The parameters <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_CUTUP</span></samp>, <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_CUTLO</span></samp>,
<samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_OBJULIM</span></samp>, <samp class="ph codeph"><span class="keyword apiname">CPX_PARAM_OBJLLIM</span></samp>
do <strong class="ph b">not</strong> influence this routine.
If you want to study infeasibilities introduced by those parameters,
consider adding an objective function constraint to your model to
enforce their effect before you invoke this routine.</p>



    </div>
<div class="section"><h2 class="title sectiontitle">Arguments</h2>      
    </div>
<table cellpadding="4" cellspacing="0" summary="Each row in this table describes a property; each property can have a type, value, and description." border="1" class="simpletable properties"><tr class="sthead prophead">
<th valign="bottom" align="left" id="d1008710e607" class="stentry propvaluehd">Name</th>
<th valign="bottom" align="left" id="d1008710e609" class="stentry propdeschd">Description</th>
</tr><tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">env</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
<tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">lp</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
<tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">rhs</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
<tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">rng</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
<tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">lb</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
<tr class="strow property">
<td valign="top" headers="d1008710e607" class="stentry propvalue">ub</td>
<td valign="top" headers="d1008710e609" class="stentry propdesc">          

          
        </td>
</tr>
</table>
<div class="section"><h2 class="title sectiontitle">Return</h2>      
      The routine returns 0 (zero) if successful and nonzero if an error occurs.
    </div>
<div class="section"><h2 class="title sectiontitle">Example</h2>      
      
<pre class="pre codeblock"><code>status = CPXfeasopt (env, lp, rhs, rng, lb, ub);</code></pre>


<p class="p"><strong class="ph b">Parameters</strong></p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">env</span></samp></p>

<p class="p">A pointer to the CPLEX environment
as returned by <samp class="ph codeph"><span class="keyword apiname">CPXXopenCPLEX</span>/<span class="keyword apiname">CPXopenCPLEX</span></samp>.</p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">lp</span></samp></p>

<p class="p">A pointer to a CPLEX problem object
as returned by <samp class="ph codeph"><span class="keyword apiname">CPXXcreateprob</span>/<span class="keyword apiname">CPXcreateprob</span></samp>. </p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">rhs</span></samp></p>

<p class="p">An array of doubles of length at least equal to
the number of rows in the problem. NULL may be specified if no rhs
values are allowed to be relaxed.
When not NULL, the array specifies the preference values that
determine the cost of relaxing each constraint.</p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">rng</span></samp></p>

<p class="p">An array of doubles of length at least equal to
the number of rows in the problem. NULL may be specified if no
range values are allowed to be relaxed or
none are present in the active problem.
When not NULL, the array specifies the preference values that
determine the cost of relaxing each range.</p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">lb</span></samp></p>

<p class="p">An array of doubles of length at least equal to
the number of columns in the problem.
NULL may be passed if no lower bound of any variable
is allowed to be relaxed.
When not NULL, the array specifies the preference values that
determine the cost of relaxing each lower bound.</p>


<p class="p"><samp class="ph codeph"><span class="keyword apiname">ub</span></samp></p>

<p class="p">An array of doubles of length at least equal to
the number of columns in the problem.
NULL may be passed if no upper bound of any variable
is allowed to be relaxed.
When not NULL, the array specifies the preference values that
determine the cost of relaxing each upper bound.</p>



    </div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageanalyzesolution.html">Analyzing Solutions in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html">Analyzing Infeasibility in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageoptimizers.html">Optimizers in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepagecallable.html">Routines in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/cpxapi/hpRefineConflict.html">Detecting and resolving conflicts with the conflict refiner and feasopt</a></div>
</div>
</div></body>
</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2015" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2015" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Exhaustive propagation" />
<meta name="abstract" content="Exhaustive propagation should be used in order to have an efficient custom constraint." />
<meta name="Description" content="Exhaustive propagation should be used in order to have an efficient custom constraint." />
<meta name="DC.Relation" scheme="URI" content="../../../CP_Optimizer/Advanced_user_manual/topics/csts_tips.html" />
<meta name="DC.Date" scheme="iso8601" content="2015-05-15" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="migration.uss_usradvcpoptimizercsts.1011365" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../CP_Optimizer/Advanced_user_manual/topics/csts_tips.html" />
<title>Exhaustive propagation</title>
</head>
<body role="main" id="migration.uss_usradvcpoptimizercsts.1011365">
<h1 class="title topictitle1">Exhaustive propagation</h1>
<div class="body"><p class="shortdesc">Exhaustive propagation should be used in order to have
an efficient custom constraint.</p>
<p class="p">In order to write an efficient custom constraint, it
is important to follow the following basic steps:</p>
<ul class="ul"><li class="li"><p class="p">The constraint must fail when there
is no solution.</p>
</li>
<li class="li"><p class="p">The constraint must not remove values
that are consistent with the definition.</p>
</li>
<li class="li"><p class="p">The constraint should be propagated
in all directions.</p>
</li>
<li class="li"><p class="p">It is usually better to reduce the domain
of variables as early as possible. </p>
</li>
<li class="li"><p class="p">A direct consequence of the previous
rule is: it is usually better to reduce the domains as much as possible.</p>
</li>
</ul>
<p class="p">In order to reduce the domains of constrained variables
as quickly as possible, you have to carry out all domain reductions
that are possible. You do so by propagating constraints in every direction.
Another way of looking at this issue is to see that constraints are
not directed, but must be seen as equations in the widest sense of
the term. The final results of the search for a solution must be the
same, regardless of the order in which constraints are posted, even
user-defined constraints. </p>
<p class="p">Consider the constraint <em class="ph i">x
+ y == z</em>. The domain of <em class="ph i">z</em> must
be modified when the domain of <em class="ph i">x</em> or
of <em class="ph i">y</em> is modified.
At the same time, you must not forget that the domain of <em class="ph i">x</em> must be modified when the domain
of <em class="ph i">y</em> or of <em class="ph i">z</em> is modified. A similar rule applies
for <em class="ph i">y</em> as well. This
is what is meant by propagating in all directions. </p>
<p class="p">More generally, when designing a new constraint class,
you must not overlook any direction of propagation. </p>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../CP_Optimizer/Advanced_user_manual/topics/csts_tips.html" title="Programming tips for writing constraints are provided.">Programming tips</a></div>
</div>
</div></body>
</html>